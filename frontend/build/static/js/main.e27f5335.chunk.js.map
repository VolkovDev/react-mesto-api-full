{"version":3,"sources":["utils/constants.js","utils/api.js","images/logo_mesto.svg","components/Header.js","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/Footer.js","components/PopupWithForm.js","components/ImagePopup.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","auth.js","components/Login.js","components/Register.js","components/ProtectedRoute.js","images/Error.svg","images/Success.svg","components/InfoTooltip.js","components/PopupDeleteCard.js","components/App.js","reportWebVitals.js","index.js"],"names":["apiData","adress","token","localStorage","getItem","console","log","api","_headerResponse","res","ok","json","Promise","reject","status","this","_adress","_token","fetch","method","headers","authorization","then","all","getInfoUser","getInitialCards","name","about","body","JSON","stringify","link","cardId","isLiked","avatar","Header","userEmail","onQuit","className","href","target","src","logo","alt","path","to","exact","onClick","CurrentUserContext","React","createContext","Card","card","onCardClick","onCardImageClick","onCardLike","onCardDelete","loadingIndicator","currentUser","useContext","isOwn","owner","_id","cardDeleteButtonClassName","likes","some","i","cardLikeButtonClassName","type","id","aria-label","disabled","length","Main","props","userName","userDescription","userAvatar","onEditAvatar","onEditProfile","onAddPlace","cards","map","Footer","PopupWithForm","isOpen","onClose","onSubmit","action","title","children","buttonText","ImagePopup","EditProfilePopup","onUpdateUser","useState","setName","description","setDescription","useEffect","e","preventDefault","value","onChange","placeholder","required","minLength","maxLength","autoComplete","EditAvatarPopup","onUpdateAvatar","setAvatar","AddPlacePopup","setLink","BASE_URL","Login","handleLogin","onFail","setOnFail","email","setEmail","password","setPassword","history","useHistory","evt","error","response","data","catch","err","authorize","setItem","push","message","Register","setIsRegisterPopupOpen","register","ProtectedRoute","Component","component","loggedIn","InfoTooltip","success","Success","Error","PopupDeleteCard","onDeleteCard","App","setCurrentUser","setCards","setUserEmail","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","isImagePopupOpen","setIsImagePopupOpen","selectedCard","setSelectedCard","isRegisterPopupOpen","setLoggedIn","isloading","setIsLoading","isDeleteCardsPopupOpen","SetIsDeleteCardsPopupOpen","getDataUserAndCards","jwt","userData","cardsData","tokenCheck","closeAllPopups","deleteCard","setDeleteCard","handleEscClose","key","document","addEventListener","removeEventListener","Provider","removeItem","putHandlerLike","newCard","newCards","c","patchEditProfile","postAddNewCard","patchRefreshAvatar","filter","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.e27f5335.chunk.js","sourcesContent":["const apiData = {\r\n  adress: 'https://api.avolk.ru',\r\n  token: `Bearer ${localStorage.getItem('jwt')}`,\r\n}\r\nconsole.log('apiData consts utils: ', apiData.token)\r\n\r\nexport default apiData;","import apiData from './constants'\r\n\r\nclass Api {\r\n  constructor(apiData) {\r\n    console.log('Api token: ', apiData.token)\r\n    this._adress = apiData.adress\r\n    this._token = apiData.token\r\n  }\r\n\r\n  _headerResponse = (res) => {\r\n    return res.ok ? res.json() : Promise.reject(`Ошибка: ${res.status}`);\r\n  }\r\n\r\n  getInfoUser() {\r\n    console.log('Токен получения данных юзера getInfoUser: ',  this._token)\r\n    return fetch(`${this._adress}/users/me`, {\r\n      method: 'GET',\r\n      headers: {\r\n        authorization: this._token,\r\n        'Content-Type': 'application/json'\r\n      }\r\n    })\r\n      .then(this._headerResponse)\r\n  }\r\n\r\n  getInitialCards() {\r\n    console.log('Токен получения данных карточек getInitialCards: ',  this._token)\r\n    return fetch(`${this._adress}/cards`, {\r\n      headers: {\r\n        authorization: this._token,\r\n        'Content-Type': 'application/json'\r\n      }\r\n    })\r\n      .then(this._headerResponse)\r\n  }\r\n\r\n  getDataUserAndCards() {\r\n    return Promise.all([this.getInfoUser(), this.getInitialCards()]);\r\n  }\r\n\r\n  patchEditProfile({ name, about }) {\r\n    return fetch(`${this._adress}/users/me`, {\r\n      method: 'PATCH',\r\n      headers: {\r\n        authorization: this._token,\r\n        'Content-Type': 'application/json'\r\n      },\r\n      body: JSON.stringify({\r\n        name: name,\r\n        about: about,\r\n      })\r\n    })\r\n      .then(this._headerResponse)\r\n  }\r\n\r\n  postAddNewCard({ name, link }) {\r\n    return fetch(`${this._adress}/cards`, {\r\n      method: 'POST',\r\n      headers: {\r\n        authorization: this._token,\r\n        'Content-Type': 'application/json'\r\n      },\r\n      body: JSON.stringify({\r\n        name,\r\n        link\r\n      })\r\n    })\r\n      .then(this._headerResponse)\r\n  }\r\n\r\n  deleteCard(cardId) {\r\n    return fetch(`${this._adress}/cards/${cardId}`, {\r\n      method: 'DELETE',\r\n      headers: {\r\n        authorization: this._token,\r\n        'Content-Type': 'application/json'\r\n      },\r\n    })\r\n      .then(this._headerResponse)\r\n  }\r\n\r\n  putHandlerLike(cardId, isLiked) {\r\n    if (isLiked) {\r\n      return fetch(`${this._adress}/cards/${cardId}/likes`, {\r\n        method: 'PUT',\r\n        headers: {\r\n          authorization: this._token,\r\n          'Content-Type': 'application/json'\r\n        },\r\n      })\r\n        .then(this._headerResponse)\r\n    } else {\r\n      return fetch(`${this._adress}/cards/${cardId}/likes`, {\r\n        method: 'DELETE',\r\n        headers: {\r\n          authorization: this._token,\r\n          'Content-Type': 'application/json'\r\n        },\r\n      })\r\n        .then(this._headerResponse)\r\n    }\r\n  }\r\n\r\n  patchRefreshAvatar({ avatar }) {\r\n    console.log('patchRefreshAvatar API: ', this._token)\r\n    return fetch(`${this._adress}/users/me/avatar`, {\r\n      method: 'PATCH',\r\n      headers: {\r\n        authorization: this._token,\r\n        'Content-Type': 'application/json'\r\n      },\r\n      body: JSON.stringify({\r\n        avatar: avatar\r\n      })\r\n    })\r\n      .then(this._headerResponse)\r\n  }\r\n}\r\n\r\nconst api = new Api(apiData)\r\n\r\nexport default api","export default __webpack_public_path__ + \"static/media/logo_mesto.c2821b38.svg\";","import React from 'react'\r\nimport { Route, Link } from 'react-router-dom';\r\nimport logo from '../images/logo_mesto.svg';\r\n\r\nfunction Header({ userEmail, onQuit }) {\r\n\r\n  const quit = () => {\r\n    onQuit();\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <header className='header'>\r\n        <a href='https://praktikum.yandex.ru/' className='header__link' target='_blank'>\r\n            <img \r\n              src={logo} \r\n              alt='логотип'\r\n              className='header__logo' \r\n            />\r\n        </a>\r\n        <Route path='/signup'>\r\n          <Link className='header__link-login' to='/signin'>\r\n            Войти\r\n          </Link>\r\n        </Route>\r\n        <Route path='/signin'>\r\n          <Link className='header__link-login' to='/signup'>\r\n            Регистрация\r\n          </Link>\r\n        </Route>\r\n        <Route exact path='/'>\r\n          <p className='header__user-email'>{userEmail}</p>\r\n          <Link className='header__link-login' to='/signin' onClick={quit}>\r\n            Выйти\r\n          </Link>\r\n        </Route>\r\n\r\n      </header>\r\n    </>\r\n  )\r\n}\r\nexport default Header","import React from 'react'\r\n\r\nexport const CurrentUserContext = React.createContext();\r\n\r\n","import React, {useContext} from \"react\";\r\nimport {CurrentUserContext} from \"../contexts/CurrentUserContext\";\r\n\r\nfunction Card({card, onCardClick, onCardImageClick, onCardLike, onCardDelete, loadingIndicator}) {\r\n  const currentUser  = useContext(CurrentUserContext);\r\n  \r\n  function handleClick() {\r\n    onCardClick(card);\r\n    onCardImageClick()\r\n  }\r\n\r\n  function handleLikeClick() {\r\n    onCardLike(card);\r\n  }\r\n\r\n  function handleDeleteClick() {\r\n    onCardDelete(card)\r\n  }\r\n\r\n  // Определяем, являемся ли мы владельцем текущей карточки\r\nconst isOwn = card.owner === currentUser._id;\r\n\r\n// Создаём переменную, которую после зададим в `className` для кнопки удаления\r\nconst cardDeleteButtonClassName = (\r\n  `card__delete-btn ${isOwn ? '' : 'card__delete-btn_non-active'}`\r\n);\r\n\r\n// Определяем, есть ли у карточки лайк, поставленный текущим пользователем\r\nconst isLiked = card.likes.some(i => i === currentUser._id);\r\n\r\n// Создаём переменную, которую после зададим в `className` для кнопки лайка\r\nconst cardLikeButtonClassName = (\r\n  `card__like-btn ${ isLiked ? 'card__like-btn_active' : ''}`\r\n);\r\n\r\n  return (\r\n    <>\r\n      <article className=\"card\">\r\n        <img \r\n          className=\"card__image\"\r\n          src={\r\n            card.link\r\n            }\r\n          alt={card.name}\r\n          onClick={handleClick} \r\n        />\r\n        <button \r\n          onClick={handleDeleteClick}\r\n          className={cardDeleteButtonClassName}\r\n          type=\"button\"\r\n        ></button>\r\n        <div\r\n          className=\"card__element\"\r\n        >\r\n          <h2\r\n            className=\"card__title\"\r\n          > {\r\n              card.name\r\n            }</h2>\r\n          <div \r\n            className=\"card__like-container\"\r\n          >\r\n            <button\r\n              id=\"likeButton\"\r\n              className={cardLikeButtonClassName}\r\n              aria-label='Поставить лайк'\r\n              type=\"button\"\r\n              onClick={handleLikeClick}\r\n              disabled={loadingIndicator}\r\n            ></button>\r\n            <div \r\n              className=\"card__like-counter\"\r\n            > {\r\n              card.likes.length\r\n              }\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </article>\r\n    </>\r\n  );\r\n}\r\nexport default Card","import React from 'react'\r\nimport Card from './Card'\r\n// import {api} from '../utils/api.js'\r\nimport {CurrentUserContext} from \"../contexts/CurrentUserContext\"\r\n// import avatarDefault from '../images/profile_avatar.jpg'\r\n\r\nfunction Main(props) {\r\n  const currentUser  = React.useContext(CurrentUserContext)\r\n  const userName = currentUser.name\r\n  const userDescription = currentUser.about\r\n  const userAvatar = currentUser.avatar\r\n\r\n  return (\r\n    <>\r\n      <main className='content'>\r\n        <section className='profile'>\r\n          <div\r\n            className='profile__avatar-container'\r\n            onClick={props.onEditAvatar}>\r\n            <img\r\n              src={userAvatar} \r\n              alt={userName}\r\n              className='profile__avatar'\r\n            />\r\n          </div>\r\n          <div className='profile__info'>\r\n            <h1 className='profile__name'>{userName}</h1>\r\n            <button\r\n              className='profile__edit-button' \r\n              type='button'\r\n              onClick={props.onEditProfile}\r\n            ></button>\r\n          </div>\r\n          <p className='profile__hobby'>{userDescription}</p>\r\n          <button\r\n            className='profile__add-button'\r\n            type='button'\r\n            onClick={props.onAddPlace}></button>\r\n        </section>\r\n\r\n        <section className='cards'>\r\n          {props.cards.map((card) => (\r\n              <Card \r\n                key={card._id}\r\n                card={card}\r\n                onCardClick={props.onCardClick}\r\n                onCardImageClick={props.onCardImageClick}\r\n                onCardLike={props.onCardLike}\r\n                onCardDelete={props.onCardDelete}\r\n                loadingIndicator={props.loadingIndicator}\r\n                {...props}\r\n              />\r\n          ))}\r\n        </section>\r\n      </main>\r\n    </>\r\n  )\r\n}\r\nexport default Main","function Footer() {\r\n  return (\r\n    <>\r\n      <footer className='footer'>\r\n        <a href='https://praktikum.yandex.ru/' className='footer__link'>&copy; 2021 Mesto Russia</a>\r\n      </footer>\r\n    </>\r\n  )\r\n}\r\nexport default Footer","function PopupWithForm(props) {\r\n\r\n  return (\r\n    <>\r\n      <div className={props.isOpen ? `pop-up pop-up_type_${props.name} pop-up_opened` : `pop-up pop-up_type_${props.name}`}>\r\n        <div className={`pop-up__container pop-up__container_opened_${props.name}`} >\r\n          <button \r\n            className={`pop-up__btn-close pop-up__btn-close_type_${props.name}`}\r\n            type='button'\r\n            aria-label='Закрыть форму'\r\n            onClick={props.onClose}\r\n          ></button>\r\n          <form \r\n            onSubmit={props.onSubmit}\r\n            name={`${props.name}`} \r\n            action='#' \r\n            className={`pop-up__form pop-up__form_${props.name}`} \r\n            method='POST'\r\n            disabled={props.loadingIndicator}\r\n          >\r\n            <h3 className='pop-up__form-title'>{props.title}</h3>\r\n              {props.children}\r\n          <button \r\n            className='pop-up__form-btn-submit pop-up__form-btn-submit_comfirm' \r\n            type='submit'\r\n          >{props.buttonText}</button>\r\n          </form>\r\n        </div>\r\n      </div>\r\n    </>\r\n  )\r\n}\r\nexport default PopupWithForm","function ImagePopup(props) {\r\n  \r\n  return (\r\n    <>\r\n      <div \r\n        className={\r\n          props.isOpen ? `pop-up pop-up_type_image-zoom pop-up_opened` : `pop-up pop-up_type_image-zoom`\r\n        }\r\n      >\r\n        <div \r\n          className='pop-up__container pop-up__container_opened_image-zoom'\r\n        >\r\n            <button \r\n              className='pop-up__btn-close pop-up__btn-close_type_image-zoom'\r\n              type='button'\r\n              aria-label='Закрыть форму'\r\n              onClick={props.onClose}\r\n            ></button>\r\n            <img className='pop-up__img' src={props.card.link} alt={props.card.name} />\r\n            <div \r\n              className='pop-up__description'\r\n            >\r\n              {props.card.name}\r\n            </div>\r\n        </div>\r\n    </div>\r\n    </>\r\n  )\r\n}\r\nexport default ImagePopup","import React from 'react'\r\nimport {useState, useEffect, useContext} from 'react'\r\nimport PopupWithForm from './PopupWithForm'\r\nimport {CurrentUserContext} from \"../contexts/CurrentUserContext\"\r\n\r\nfunction EditProfilePopup({isOpen, onClose, onUpdateUser}) {\r\n  const currentUser = useContext(CurrentUserContext)\r\n\r\n  const [name, setName] = useState('')\r\n  const [description, setDescription] = useState('')\r\n\r\n  // Обработчик изменения инпута обновляет стейт\r\n  function nameHandleChange(e) {\r\n    setName(e.target.value)\r\n  }\r\n\r\n  // Обработчик изменения инпута обновляет стейт\r\n  function descriptionHandleChange(e) {\r\n    setDescription(e.target.value)\r\n  }\r\n\r\n  function handleSubmit(e) {\r\n    // Запрещаем браузеру переходить по адресу формы\r\n    e.preventDefault()\r\n\r\n    // Передаём значения управляемых компонентов во внешний обработчик\r\n    onUpdateUser({\r\n      name,\r\n      about: description,\r\n    })\r\n  } \r\n\r\n  // После загрузки текущего пользователя из API\r\n// его данные будут использованы в управляемых компонентах.\r\nuseEffect(() => {\r\n  setName(currentUser.name)\r\n  setDescription(currentUser.about)\r\n}, [currentUser]) \r\n\r\n  return (\r\n        <PopupWithForm\r\n          title='Редактировать профиль'\r\n          name='profile'\r\n          onClose={onClose}\r\n          isOpen={isOpen}\r\n          onSubmit={handleSubmit}\r\n          buttonText='Сохранить'\r\n        >\r\n          <input\r\n            value={name}\r\n            onChange={nameHandleChange}\r\n            name='input-name'\r\n            type='text'\r\n            id='name-input'\r\n            className='pop-up__form-input pop-up__form-input_type_name'\r\n            placeholder='Имя Фамилия'\r\n            required\r\n            minLength='2'\r\n            maxLength='40'\r\n            autoComplete='off'\r\n          />\r\n          <span\r\n            className='pop-up__form-input-error'\r\n            id='name-input-error'\r\n          ></span>\r\n\r\n          <input\r\n            value={description}\r\n            onChange={descriptionHandleChange}\r\n            name='input-hobby'\r\n            type='text'\r\n            id='hobby-input'\r\n            className='pop-up__form-input pop-up__form-input_type_hobby'\r\n            placeholder='Хобби'\r\n            required\r\n            minLength='2'\r\n            maxLength='200'\r\n            autoComplete='off'\r\n          />\r\n          <span\r\n            className='pop-up__form-input-error'\r\n            id='hobby-input-error'\r\n          ></span>\r\n        </PopupWithForm>\r\n  )\r\n\r\n}\r\n\r\nexport default EditProfilePopup","import React from 'react'\r\nimport {useState} from 'react'\r\n// import { useContext } from 'react'\r\nimport PopupWithForm from './PopupWithForm'\r\n// import {CurrentUserContext} from \"../contexts/CurrentUserContext\"\r\n\r\nfunction EditAvatarPopup( { isOpen, onClose, onUpdateAvatar }) {\r\n  // const currentUser = useContext(CurrentUserContext)\r\n\r\n  const [avatar, setAvatar] = useState('')\r\n\r\n  // Обработчик изменения инпута обновляет стейт\r\n  function avatarHandleChange(e) {\r\n    setAvatar(e.target.value)\r\n  }\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault()\r\n    onUpdateAvatar({\r\n      avatar: avatar,\r\n    })\r\n    setAvatar('')\r\n  }\r\n\r\n  return (\r\n    <PopupWithForm\r\n    title='Обновить аватар'\r\n    name='avatar'\r\n    isOpen={isOpen}\r\n    onClose={onClose}\r\n    onSubmit={handleSubmit}\r\n    buttonText='Сохранить'\r\n  >\r\n    <input\r\n      value={avatar}\r\n      onChange={avatarHandleChange}\r\n      name='input-avatar'\r\n      id='avatar-input'\r\n      type='url'\r\n      className='pop-up__form-input pop-up__form-input_type_link-avatar'\r\n      placeholder='Ссылка на картинку'\r\n      required\r\n    />\r\n    <span\r\n      className='pop-up__form-input-error'\r\n      id='avatar-input-error'\r\n    ></span>\r\n\r\n  </PopupWithForm>\r\n  )\r\n}\r\n\r\nexport default EditAvatarPopup","import React from 'react'\r\nimport {useState} from 'react'\r\nimport PopupWithForm from './PopupWithForm'\r\n// import {CurrentUserContext} from \"../contexts/CurrentUserContext\"\r\n\r\nfunction AddPlacePopup({ isOpen, onClose, onAddPlace }){\r\n  // const currentUser = useContext(CurrentUserContext)\r\n\r\n  const [name, setName] = useState('')\r\n  const [link, setLink] = useState('')\r\n\r\n    // Обработчик изменения инпута обновляет стейт\r\n    function nameHandleChange(e) {\r\n      setName(e.target.value)\r\n    }\r\n\r\n    // Обработчик изменения инпута обновляет стейт\r\n    function linkHandleChange(e) {\r\n      setLink(e.target.value)\r\n    }\r\n\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault()\r\n    onAddPlace({ \r\n      name, \r\n      link \r\n    })\r\n    setName('')\r\n    setLink('')\r\n  }\r\n\r\n  return (\r\n    <PopupWithForm\r\n    title='Новое место'\r\n    name='add-card'\r\n    isOpen={isOpen}\r\n    onClose={onClose}\r\n    onSubmit={handleSubmit}\r\n    buttonText='Создать'\r\n  >\r\n    <input\r\n      value={name}\r\n      onChange={nameHandleChange}\r\n      name='input-name-image'\r\n      type='text'\r\n      id='name-image-input'\r\n      className='pop-up__form-input pop-up__form-input_type_image'\r\n      placeholder='Название'\r\n      required\r\n      minLength='2'\r\n      maxLength='30'\r\n      autoComplete='off'\r\n    />\r\n    <span\r\n      className='pop-up__form-input-error'\r\n      id='name-image-input-error'\r\n    ></span>\r\n    <input\r\n      value={link}\r\n      onChange={linkHandleChange}\r\n      name='input-url'\r\n      type='url'\r\n      id='url-input'\r\n      className='pop-up__form-input pop-up__form-input_type_url'\r\n      placeholder='Ссылка на картинку'\r\n      required\r\n      autoComplete='off'\r\n    />\r\n    <span\r\n      className='pop-up__form-input-error'\r\n      id='url-input-error'\r\n    ></span>\r\n\r\n  </PopupWithForm>\r\n  )\r\n}\r\n\r\nexport default AddPlacePopup","export const BASE_URL = 'https://api.avolk.ru'\r\n\r\nexport const register = (password, email) => {\r\n  return fetch(`${BASE_URL}/signup`, {\r\n    method: 'POST',\r\n    headers: {\r\n      'Content-Type': 'application/json'\r\n    },\r\n    body: JSON.stringify({password, email})\r\n  })\r\n  .then((response) => {\r\n    return response.json()\r\n  })\r\n  .then((res) => {\r\n    return res\r\n  })\r\n  .catch((err) => console.log(`Error auth register ${err}`))\r\n}\r\nexport const authorize = (password, email) => {\r\n  return fetch(`${BASE_URL}/signin`, {\r\n    method: 'POST',\r\n    headers: {\r\n      'Content-Type': 'application/json'\r\n    },\r\n    body: JSON.stringify({password, email})\r\n  })\r\n  .then((response => response.json()))\r\n  .then((data) => {\r\n    if (data.token){\r\n      return data\r\n    } \r\n  })\r\n  .catch(err => console.log(err))\r\n}\r\nexport const checkToken = (token) => {\r\n  return fetch(`${BASE_URL}/users/me`, {\r\n    method: 'GET',\r\n    headers: {\r\n      'Content-Type': 'application/json',\r\n      'Authorization': `Bearer ${token}`,\r\n    }\r\n  })\r\n  .then(res => res.json())\r\n  .then(data => data)\r\n  .catch(err => console.log(err))\r\n}\r\n","import React, { useState } from 'react'\r\nimport { useHistory, Link } from 'react-router-dom'\r\nimport { authorize } from '../auth'\r\n\r\nfunction Login({ handleLogin, onFail, setOnFail }) {\r\n  const [email, setEmail] = useState('')\r\n  const [password, setPassword] = useState('')\r\n\r\n  const history = useHistory()\r\n\r\n  const resetForm = () => {\r\n    setEmail('')\r\n    setPassword('')\r\n  }\r\n\r\n  const handleSubmit = (evt) => {\r\n    evt.preventDefault()\r\n\r\n    if (!email || !password) {\r\n      console.error('Не заполнены некоторые обязательные поля')\r\n    }\r\n\r\n    authorize( password, email )\r\n      .then((data) => {\r\n        if (data.token) {\r\n          // setEmail(email)\r\n          resetForm()\r\n          localStorage.setItem('jwt', data.token) \r\n          handleLogin()\r\n          setOnFail('')\r\n          history.push('/')\r\n        } else if (data.message) {\r\n          setOnFail(data.message)\r\n        }\r\n      })\r\n      .catch((err) => {\r\n        console.log(`Error Login authorize: ${err}`)\r\n      })\r\n  }\r\n\r\n  return (\r\n    <div className='auth'>\r\n      <h2 className='auth__title'>Вход</h2>\r\n      <form className='auth__form' onSubmit={handleSubmit}>\r\n        <input\r\n          className='auth__input'\r\n          type='email'\r\n          required={true}\r\n          placeholder='Email'\r\n          onChange={(evt) => setEmail(evt.target.value)}\r\n        />\r\n        <div className='auth__input-container'>\r\n          <input\r\n            className='auth__input'\r\n            type='password'\r\n            placeholder='Пароль'\r\n            onChange={(evt) => setPassword(evt.target.value)}\r\n          />\r\n          <p className='auth__error-field'>{onFail}</p>\r\n        </div>\r\n        <button type='submit' className='auth__submit-btn'>\r\n          Войти\r\n        </button>\r\n        <Link className='auth__sign-in' to='/signup'>\r\n          Ещё не зарегистрированы? Регистрация\r\n        </Link>\r\n      </form>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Login","import React, { useState } from 'react'\r\nimport { useHistory, Link } from 'react-router-dom'\r\nimport { register } from '../auth'\r\n\r\nconst Register = ({ setIsRegisterPopupOpen, setOnFail }) => {\r\n  const [email, setEmail] = useState('')\r\n  const [password, setPassword] = useState('')\r\n\r\n  const history = useHistory()\r\n\r\n  const handleSubmit = (evt) => {\r\n    evt.preventDefault()\r\n    console.log('password: ',password, ' email: ', email)\r\n    register( password, email )\r\n      .then((res) => {\r\n        console.log('handleSubmit: ', res)\r\n        if (res) {\r\n          setIsRegisterPopupOpen(res)\r\n          setOnFail('')\r\n          history.push('/signin')\r\n        } else {\r\n          setIsRegisterPopupOpen(res.data)\r\n        }\r\n      })\r\n      .catch((err) => {\r\n        console.log(`Error handleSubmit register: ${err}`)\r\n      })\r\n  }\r\n\r\n  return (\r\n    <div className='auth'>\r\n      <h2 className='auth__title'>Регистрация</h2>\r\n      <form className='auth__form' onSubmit={handleSubmit}>\r\n        <input\r\n          className='auth__input'\r\n          type='email'\r\n          placeholder='Email'\r\n          required={true}\r\n          onChange={(evt) => setEmail(evt.target.value)}\r\n        />\r\n        <input\r\n          className='auth__input'\r\n          type='password'\r\n          placeholder='Пароль'\r\n          required={true}\r\n          onChange={(evt) => setPassword(evt.target.value)}\r\n        />\r\n        <button type='submit' className='auth__submit-btn'>\r\n          Зарегистрироваться\r\n        </button>\r\n        <Link className='auth__sign-in' to='/signin'>\r\n          Уже зарегистрированы? Войти\r\n        </Link>\r\n      </form>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Register","import React from 'react'\r\nimport { Route, Redirect } from \"react-router-dom\"\r\n\r\nconst ProtectedRoute = ({ component: Component, ...props  }) => {\r\n  return (\r\n    <Route>\r\n      {\r\n        () => props.loggedIn ? <Component {...props} /> : <Redirect to=\"./signin\" />\r\n      }\r\n    </Route>\r\n)}\r\n\r\nexport default ProtectedRoute","export default __webpack_public_path__ + \"static/media/Error.df8eddf6.svg\";","export default __webpack_public_path__ + \"static/media/Success.1b6082f8.svg\";","import React from 'react'\r\nimport Error from '../images/Error.svg'\r\nimport Success from '../images/Success.svg'\r\n\r\nconst InfoTooltip = ({ isOpen, onClose }) => {\r\n  return (\r\n    <div className={`pop-up ${isOpen ? 'pop-up_opened' : ''}`}>\r\n      <div className='pop-up__container\r\n      pop-up__container_type_tooltip'>\r\n        <img\r\n          alt='тут должна быть иконка'\r\n          className='pop-up__img'\r\n          src={isOpen.success ? Success : Error}\r\n        />\r\n        <h2 className={'pop-up__form-title pop-up__title_type_tooltip'}>\r\n          {isOpen.data ? 'Вы успешно зарегистрировались!' : isOpen.message}\r\n        </h2>\r\n        <button \r\n        className={`pop-up__btn-close\r\n        pop-up__btn-close_type_tooltip`}\r\n        type='button'\r\n        aria-label='Закрыть форму'\r\n        onClick={onClose}\r\n        />\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default InfoTooltip","import React from 'react';\r\nimport PopupWithForm from './PopupWithForm';\r\n\r\nfunction PopupDeleteCard({ isOpen, onClose, card, onDeleteCard, loadingIndicator }) {\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n    onDeleteCard(card);\r\n  }\r\n\r\n  return (\r\n    <PopupWithForm\r\n      name='avatar'\r\n      title='Вы уверены?'\r\n      isOpen={isOpen}\r\n      onClose={onClose}\r\n      buttonText={'Да'}\r\n      onSubmit={handleSubmit}\r\n      loadingIndicator={loadingIndicator}\r\n    ></PopupWithForm>\r\n  );\r\n}\r\n\r\nexport default PopupDeleteCard;","/* eslint-disable react-hooks/exhaustive-deps */\nimport '../index.css'\nimport React, { useState, useEffect } from 'react'\nimport { Route, Switch, Redirect, useHistory } from 'react-router-dom'\nimport  api  from '../utils/api'\nimport Header from './Header'\nimport Main from './Main'\nimport Footer from './Footer'\nimport PopupWithForm from './PopupWithForm'\nimport ImagePopup from './ImagePopup'\nimport {CurrentUserContext} from '../contexts/CurrentUserContext'\nimport EditProfilePopup from './EditProfilePopup'\nimport EditAvatarPopup from './EditAvatarPopup'\nimport AddPlacePopup from './AddPlacePopup'\nimport Login from './Login'\nimport Register from './Register'\nimport ProtectedRoute from './ProtectedRoute'\nimport InfoTooltip from './InfoTooltip'\nimport PopupDeleteCard from './PopupDeleteCard'\nimport { checkToken } from '../auth'\n\n\n\nfunction App() {\n\n  const [currentUser, setCurrentUser] = useState({\n    name: '',\n    about: '',\n    avatar: '',\n    _id: '',\n    email: '',\n  })\n\n  const [cards, setCards] = useState([])\n  const [userEmail, setUserEmail] = useState('')\n  \n  const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = useState(false)\n  const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = useState(false)\n  const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = useState(false)\n  const [isImagePopupOpen, setIsImagePopupOpen] = useState(false)\n  const [selectedCard, setSelectedCard] = useState(false)\n  const [isRegisterPopupOpen, setIsRegisterPopupOpen] = useState(false)\n  const [loggedIn, setLoggedIn] = useState(false)\n  const [onFail, setOnFail] = useState('')\n  const [isloading, setIsLoading] = useState(false)\n  const [isDeleteCardsPopupOpen, SetIsDeleteCardsPopupOpen] = useState(false);\n\n  const history = useHistory()\n\n  useEffect(() => {\n    if (loggedIn) {\n      api.getDataUserAndCards()\n        .then((response => {\n          console.log('getDataUserAndCards Token All: ', localStorage.jwt)\n          const [userData, cardsData] = response\n          console.log('Получили данные при входе getDataUserAndCards: ', userData)\n          setCurrentUser(userData)\n          setUserEmail(userData.email)\n          setCards(cardsData)\n        }))\n        .catch((err) => {\n          console.log(err);\n      })\n    }\n  }, [loggedIn])\n\n  const tokenCheck = () => {\n    const jwt = localStorage.getItem('jwt')\n    console.log('Проверили наличие токена tokenCheck: ', jwt)\n    if (jwt) {\n      checkToken(jwt)\n        .then((data) => {\n          console.log('checkToken DATA: ', data)\n          if (data) {\n            setUserEmail(data.email)\n            setLoggedIn(true)\n            history.push('/')\n          }\n        })\n        .catch((err) => {\n          console.log(`Error checkToken: ${err} `)\n        })\n    }\n  }\n\n  useEffect(() => {\n    tokenCheck()\n  }, [history])\n\n  // useEffect(() => {\n  //   api.getInitialCards()\n  //     .then(initialCards => {\n  //       console.log('getInitialCards: ', initialCards)\n  //       setCards(initialCards)\n  //     })\n  //     .catch(err => console.log(err))\n  // }, [loggedIn])\n\n  // useEffect(() => {\n  //   api.getInfoUser()\n  //     .then(data => {\n  //       console.log('getInfoUser: ', data)\n  //       setCurrentUser(data)\n  //       setUserEmail(data.email)\n  //     })\n  //     .catch(err => console.log(err))\n  // }, [])\n\n  const handleLogin = () => {\n    setLoggedIn(true)\n  }\n\n  function handleEditProfileClick() {\n    setIsEditProfilePopupOpen(true)\n  }\n\n  function handleAddPlaceClick() {\n    setIsAddPlacePopupOpen(true)\n  }\n\n  function handleEditAvatarClick() {\n    setIsEditAvatarPopupOpen(true)\n  }\n\n  function handleCardImageClick() {\n    setIsImagePopupOpen(true)\n  }\n\n  function handleDeleteCardsClick() {\n    SetIsDeleteCardsPopupOpen(true);\n  }\n\n  function handleCardClick(card) {\n    setSelectedCard(card)\n  }\n\n  function handleUpdateUser({name, about}) {\n    api.patchEditProfile({name, about})\n      .then((data) => {\n        setCurrentUser(data)\n        closeAllPopups()\n      })\n      .catch(err => console.log(err))\n  }\n\n  function handleUpdateAvatar({avatar}) {\n    api.patchRefreshAvatar({avatar})\n    .then((data) => {\n      setCurrentUser(data)\n      closeAllPopups()\n    })\n    .catch(err => console.log(err))\n  }\n\n  function closeAllPopups() {\n    setIsEditProfilePopupOpen(false)\n    setIsAddPlacePopupOpen(false)\n    setIsEditAvatarPopupOpen(false)\n    setIsImagePopupOpen(false)\n    setIsRegisterPopupOpen(false)\n    SetIsDeleteCardsPopupOpen(false);\n  }\n\n  function handleCardLike(card) {\n    // Снова проверяем, есть ли уже лайк на этой карточке\n    const isLiked = card.likes.some(i => i === currentUser._id)\n    \n    // Отправляем запрос в API и получаем обновлённые данные карточки\n    api.putHandlerLike(card._id, !isLiked).then((newCard) => {\n        // Формируем новый массив на основе имеющегося, подставляя в него новую карточку\n      const newCards = cards.map((c) => c._id === card._id ? newCard : c)\n      // Обновляем стейт\n      setCards(newCards)\n    })\n    .catch(err => console.log(err))\n  }\n\n  const [deleteCard, setDeleteCard] = useState({});\n\n  function onHandleCardDelete(card) {\n    handleDeleteCardsClick();\n    setDeleteCard(card);\n  }\n\n  function handleCardDelete(deleteCard) {\n    setIsLoading(true)\n    api.deleteCard(deleteCard._id)\n      .then(() => {\n        const newCards = cards.filter((c) => c._id !== deleteCard._id)\n        setCards(newCards)\n        setIsLoading(false)\n        closeAllPopups()\n      })\n      .catch(err => console.log(err))\n  }\n\n  function handleAddPlaceSubmit({ name, link }) {\n    setIsLoading(true)\n    api.postAddNewCard({ name, link })\n      .then((newCard) => {\n        console.log('handleAddPlaceSubmit newCard: ', newCard)\n        console.log('handleAddPlaceSubmit cards: ', cards)\n        setCards([newCard, ...cards])\n        closeAllPopups()\n        setIsLoading(false)\n      })\n      .catch(err => console.log(err))\n  }\n\n  function handleLogout() {\n    localStorage.removeItem('jwt');\n    setLoggedIn(false)\n    setUserEmail('')\n    history.push('/signin')\n    console.log('handleLogout: ', currentUser)\n  }\n\n  useEffect(() => {\n    function handleEscClose(evt) {\n      return evt.key === 'Escape' ? closeAllPopups() : null\n    }\n\n    if (isEditProfilePopupOpen || isAddPlacePopupOpen || isEditAvatarPopupOpen || isImagePopupOpen || isRegisterPopupOpen) {\n      document.addEventListener('keydown', handleEscClose)\n    }\n\n    return () => {\n      document.removeEventListener('keydown', handleEscClose)\n    }\n  }, [isEditProfilePopupOpen, isAddPlacePopupOpen, isEditAvatarPopupOpen, isImagePopupOpen, isRegisterPopupOpen])\n\n  return (\n      <CurrentUserContext.Provider value={currentUser}>\n        <div className='page'>\n\n        <Header userEmail={userEmail} onQuit={handleLogout} />\n            <Switch>\n              <Route exact path=\"/\"> \n                {loggedIn ? <Redirect to='/' /> : <Redirect to='/signin' />}\n                  <ProtectedRoute\n                      exact\n                      path='/'\n                      loggedIn={loggedIn}\n                      component={Main}\n                      loadingIndicator={isloading}\n                      onEditAvatar={handleEditAvatarClick}\n                      onEditProfile={handleEditProfileClick}\n                      onAddPlace={handleAddPlaceClick}\n                      onCardClick={handleCardClick}\n                      onCardImageClick={handleCardImageClick}\n                      cards={cards}\n                      onCardLike={handleCardLike}\n                      onCardDelete={onHandleCardDelete}\n                  />\n              </Route>\n            \n              <Route path='/signup'>\n                <Register\n                  setIsRegisterPopupOpen={setIsRegisterPopupOpen}\n                  isOpen={isRegisterPopupOpen}\n                  setOnFail={setOnFail}\n                />\n              </Route>\n              <Route path='/signin'>\n                <Login handleLogin={handleLogin} onFail={onFail} setOnFail={setOnFail} />\n              </Route>\n            </Switch>\n          < Footer />\n\n        {/* Popup InfoTooltip */}\n          <InfoTooltip isOpen={isRegisterPopupOpen} onClose={closeAllPopups} />\n          \n          {/* Popup profile */}\n          <EditProfilePopup\n            isOpen={isEditProfilePopupOpen}\n            onClose={closeAllPopups}\n            onUpdateUser={handleUpdateUser}\n          />\n\n          {/* Popup card */}\n          <AddPlacePopup\n            title='Новое место'\n            name='add-card'\n            isOpen={isAddPlacePopupOpen}\n            onClose={closeAllPopups}\n            onAddPlace={handleAddPlaceSubmit}\n            buttonText='Создать'\n          />\n\n          {/* Popup avatar */}\n          <EditAvatarPopup \n            isOpen={isEditAvatarPopupOpen} \n            onClose={closeAllPopups} \n            onUpdateAvatar={handleUpdateAvatar}\n          /> \n\n\n          {/* Popup confirm */}\n          <PopupWithForm\n            title='Вы уверены?'\n            name='confirm'\n            onClose={closeAllPopups}\n            buttonText='Да'\n          >\n\n          </PopupWithForm>\n\n          {/* Popup image */}\n          <ImagePopup\n            onClose={closeAllPopups}\n            card={selectedCard}\n            isOpen={isImagePopupOpen}\n          />\n\n          <PopupDeleteCard\n            isOpen={isDeleteCardsPopupOpen}\n            onClose={closeAllPopups}\n            card={deleteCard}\n            onDeleteCard={handleCardDelete}\n            loadingIndicator={isloading}\n          />\n\n        </div>\n      </CurrentUserContext.Provider>\n  )\n}\n\nexport default App\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App';\nimport { BrowserRouter } from 'react-router-dom';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <BrowserRouter>\n      <App />\n    </BrowserRouter>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}