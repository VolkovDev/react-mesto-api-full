{"version":3,"sources":["utils/api.js","images/logo_mesto.svg","components/Header.js","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/Footer.js","components/PopupWithForm.js","components/ImagePopup.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","auth.js","components/Login.js","components/Register.js","components/ProtectedRoute.js","images/Error.svg","images/Success.svg","components/InfoTooltip.js","components/PopupDeleteCard.js","components/App.js","reportWebVitals.js","index.js"],"names":["api","adress","token","_headerResponse","res","ok","json","Promise","reject","status","this","_adress","_token","fetch","method","headers","authorization","then","name","about","body","JSON","stringify","link","_id","isLiked","avatar","Header","userEmail","onQuit","history","useHistory","className","path","href","target","src","logo","alt","to","onClick","localStorage","removeItem","push","CurrentUserContext","React","createContext","Card","card","onCardClick","onCardImageClick","onCardLike","onCardDelete","loadingIndicator","currentUser","useContext","isOwn","owner","cardDeleteButtonClassName","likes","some","i","cardLikeButtonClassName","type","id","aria-label","disabled","length","Main","props","userName","userDescription","userAvatar","onEditAvatar","onEditProfile","onAddPlace","cards","map","Footer","PopupWithForm","isOpen","onClose","onSubmit","action","title","children","buttonText","ImagePopup","EditProfilePopup","onUpdateUser","useState","setName","description","setDescription","useEffect","e","preventDefault","value","onChange","placeholder","required","minLength","maxLength","autoComplete","EditAvatarPopup","onUpdateAvatar","avatarRef","useRef","current","ref","AddPlacePopup","setLink","BASE_URL","Login","handleLogin","onFail","setOnFail","email","setEmail","password","setPassword","evt","console","error","response","data","log","setItem","catch","err","authorize","message","Register","setIsRegisterPopupOpen","register","ProtectedRoute","Component","component","loggedIn","InfoTooltip","Success","Error","PopupDeleteCard","onDeleteCard","App","setCards","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","isImagePopupOpen","setIsImagePopupOpen","selectedCard","setSelectedCard","isRegisterPopupOpen","setLoggedIn","setUserEmail","isloading","setIsLoading","isDeleteCardsPopupOpen","SetIsDeleteCardsPopupOpen","tokenCheck","jwt","getItem","cohort","setCurrentUser","closeAllPopups","deleteCard","setDeleteCard","getInitialCards","initialCards","getInfoUser","handleEscClose","key","document","addEventListener","removeEventListener","Provider","putHandlerLike","newCard","newCards","c","patchEditProfile","postAddNewCard","patchRefreshAvatar","filter","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"gOAmHeA,EALH,I,WA7GV,cAAiC,IAAnBC,EAAkB,EAAlBA,OAAQC,EAAU,EAAVA,MAAU,yBAKhCC,gBAAkB,SAACC,GACjB,OAAOA,EAAIC,GAAKD,EAAIE,OAASC,QAAQC,OAAR,gDAA0BJ,EAAIK,UAL3DC,KAAKC,QAAUV,EACfS,KAAKE,OAASV,E,+CAOhB,WACE,OAAOW,MAAM,GAAD,OAAIH,KAAKC,QAAT,aAA6B,CACvCG,OAAQ,MACRC,QAAS,CACPC,cAAeN,KAAKE,OACpB,eAAgB,sBAGjBK,KAAKP,KAAKP,mB,6BAGf,WACE,OAAOU,MAAM,GAAD,OAAIH,KAAKC,QAAT,UAA0B,CACpCI,QAAS,CACPC,cAAeN,KAAKE,OACpB,eAAgB,sBAGjBK,KAAKP,KAAKP,mB,8BAGf,YAAiC,IAAfe,EAAc,EAAdA,KAAMC,EAAQ,EAARA,MACtB,OAAON,MAAM,GAAD,OAAIH,KAAKC,QAAT,aAA6B,CACvCG,OAAQ,QACRC,QAAS,CACPC,cAAeN,KAAKE,OACpB,eAAgB,oBAElBQ,KAAMC,KAAKC,UAAU,CACnBJ,OACAC,YAGDF,KAAKP,KAAKP,mB,4BAGf,YAAgC,IAAfe,EAAc,EAAdA,KAAMK,EAAQ,EAARA,KACrB,OAAOV,MAAM,GAAD,OAAIH,KAAKC,QAAT,UAA0B,CACpCG,OAAQ,OACRC,QAAS,CACPC,cAAeN,KAAKE,OACpB,eAAgB,oBAElBQ,KAAMC,KAAKC,UAAU,CACnBJ,OACAK,WAGDN,KAAKP,KAAKP,mB,wBAGf,SAAWqB,GACT,OAAOX,MAAM,GAAD,OAAIH,KAAKC,QAAT,kBAA0Ba,GAAO,CAC3CV,OAAQ,SACRC,QAAS,CACPC,cAAeN,KAAKE,OACpB,eAAgB,sBAGjBK,KAAKP,KAAKP,mB,4BAGf,SAAeqB,EAAKC,GAClB,OAAIA,EACKZ,MAAM,GAAD,OAAIH,KAAKC,QAAT,wBAAgCa,GAAO,CACjDV,OAAQ,MACRC,QAAS,CACPC,cAAeN,KAAKE,OACpB,eAAgB,sBAGjBK,KAAKP,KAAKP,iBAENU,MAAM,GAAD,OAAIH,KAAKC,QAAT,wBAAgCa,GAAO,CACjDV,OAAQ,SACRC,QAAS,CACPC,cAAeN,KAAKE,OACpB,eAAgB,sBAGjBK,KAAKP,KAAKP,mB,gCAKjB,YAA8B,IAAVuB,EAAS,EAATA,OAClB,OAAOb,MAAM,GAAD,OAAIH,KAAKC,QAAT,oBAAoC,CAC9CG,OAAQ,QACRC,QAAS,CACPC,cAAeN,KAAKE,OACpB,eAAgB,oBAElBQ,KAAMC,KAAKC,UAAU,CACnBI,aAGDT,KAAKP,KAAKP,qB,KAIL,CAAQ,CAClBF,OAAQ,8CACRC,MAAO,yC,OChHM,MAA0B,uC,OC2D1ByB,MAvDf,YAAwC,IAAtBC,EAAqB,EAArBA,UAAWC,EAAU,EAAVA,OAErBC,EAAUC,cAQhB,OACE,mCACE,yBAAQC,UAAU,SAAlB,UACE,eAAC,IAAD,CAAOC,KAAK,UAAZ,UACE,mBAAGC,KAAK,+BAA+BF,UAAU,eAAeG,OAAO,SAAvE,SACE,qBACEC,IAAKC,EACLC,IAAI,6CACJN,UAAU,mBAGd,cAAC,IAAD,CAAMA,UAAU,qBAAqBO,GAAG,UAAxC,+CAIF,eAAC,IAAD,CAAON,KAAK,UAAZ,UACE,mBAAGC,KAAK,+BAA+BF,UAAU,eAAeG,OAAO,SAAvE,SACE,qBACEC,IAAKC,EACLC,IAAI,6CACJN,UAAU,mBAGd,cAAC,IAAD,CAAMA,UAAU,qBAAqBO,GAAG,UAAxC,mFAIF,eAAC,IAAD,CAAON,KAAK,QAAZ,UACE,mBAAGC,KAAK,+BAA+BF,UAAU,eAAeG,OAAO,SAAvE,SACE,qBACEC,IAAKC,EACLC,IAAI,6CACJN,UAAU,mBAGd,mBAAGA,UAAU,qBAAb,SAAmCJ,IACnC,cAAC,IAAD,CAAMI,UAAU,qBAAqBO,GAAG,UAAUC,QA1C7C,WACXX,IACAY,aAAaC,WAAW,OACxBZ,EAAQa,KAAK,WAuCP,qD,QChDGC,EAAqBC,IAAMC,gBCiFzBC,MAhFf,YAAkG,IAAnFC,EAAkF,EAAlFA,KAAMC,EAA4E,EAA5EA,YAAaC,EAA+D,EAA/DA,iBAAkBC,EAA6C,EAA7CA,WAAYC,EAAiC,EAAjCA,aAAcC,EAAmB,EAAnBA,iBACtEC,EAAeT,IAAMU,WAAWX,GAiBlCY,EAAQR,EAAKS,MAAMjC,MAAQ8B,EAAY9B,IAGvCkC,EAAyB,2BACTF,EAAQ,GAAK,+BAI7B/B,EAAUuB,EAAKW,MAAMC,MAAK,SAAAC,GAAC,OAAIA,EAAErC,MAAQ8B,EAAY9B,OAGrDsC,EAAuB,yBACRrC,EAAU,wBAA0B,IAGvD,OACE,mCACE,0BAASO,UAAU,OAAnB,UACE,qBACEA,UAAU,cACVI,IACEY,EAAKzB,KAEPe,IAAKU,EAAK9B,KACVsB,QAvCR,WACES,EAAYD,GACZE,OAuCI,wBACEV,QAjCR,WACEY,EAAaJ,IAiCPhB,UAAW0B,EACXK,KAAK,WAEP,sBACE/B,UAAU,gBADZ,UAGE,qBACEA,UAAU,cADZ,cAGIgB,EAAK9B,QAET,sBACEc,UAAU,uBADZ,UAGE,wBACEgC,GAAG,aACHhC,UAAW8B,EACXG,aAAW,kFACXF,KAAK,SACLvB,QAzDZ,WACEW,EAAWH,IAyDDkB,SAAUb,IAEZ,sBACErB,UAAU,qBADZ,cAGEgB,EAAKW,MAAMQ,OAASnB,EAAKW,MAAMQ,OAAS,mBChBvCC,MApDf,SAAcC,GACZ,IAAMf,EAAeT,IAAMU,WAAWX,GAChC0B,EAAWhB,EAAYpC,KACvBqD,EAAkBjB,EAAYnC,MAC9BqD,EAAalB,EAAY5B,OAE/B,OACE,mCACE,uBAAMM,UAAU,UAAhB,UACE,0BAASA,UAAU,UAAnB,UACE,qBACEA,UAAU,4BACVQ,QAAS6B,EAAMI,aAFjB,SAGE,qBACErC,IAAKoC,EACLlC,IAAKgC,EACLtC,UAAU,sBAGd,sBAAKA,UAAU,gBAAf,UACE,oBAAIA,UAAU,gBAAd,SAA+BsC,IAC/B,wBACEtC,UAAU,uBACV+B,KAAK,SACLvB,QAAS6B,EAAMK,mBAGnB,mBAAG1C,UAAU,iBAAb,SAA+BuC,IAC/B,wBACEvC,UAAU,sBACV+B,KAAK,SACLvB,QAAS6B,EAAMM,gBAGnB,yBAAS3C,UAAU,QAAnB,SACGqC,EAAMO,MAAMC,KAAI,SAAC7B,GAAD,OACb,cAAC,EAAD,aAEEA,KAAMA,EACNC,YAAaoB,EAAMpB,YACnBC,iBAAkBmB,EAAMnB,iBACxBC,WAAYkB,EAAMlB,WAClBC,aAAciB,EAAMjB,aACpBC,iBAAkBgB,EAAMhB,kBACpBgB,GAPCrB,EAAKxB,gBClCXsD,MATf,WACE,OACE,mCACE,wBAAQ9C,UAAU,SAAlB,SACE,mBAAGE,KAAK,+BAA+BF,UAAU,eAAjD,yCC4BO+C,MAhCf,SAAuBV,GAErB,OACE,mCACE,qBAAKrC,UAAWqC,EAAMW,OAAN,6BAAqCX,EAAMnD,KAA3C,+CAAwFmD,EAAMnD,MAA9G,SACE,sBAAKc,UAAS,qDAAgDqC,EAAMnD,MAApE,UACE,wBACEc,UAAS,mDAA8CqC,EAAMnD,MAC7D6C,KAAK,SACLE,aAAW,4EACXzB,QAAS6B,EAAMY,UAEjB,uBACEC,SAAUb,EAAMa,SAChBhE,KAAI,UAAKmD,EAAMnD,MACfiE,OAAO,IACPnD,UAAS,oCAA+BqC,EAAMnD,MAC9CJ,OAAO,OACPoD,SAAUG,EAAMhB,iBANlB,UAQE,oBAAIrB,UAAU,qBAAd,SAAoCqC,EAAMe,QACvCf,EAAMgB,SACX,wBACErD,UAAU,0DACV+B,KAAK,SAFP,SAGEM,EAAMiB,wBCIHC,MA7Bf,SAAoBlB,GAElB,OACE,mCACE,qBACErC,UACEqC,EAAMW,OAAN,8EAFJ,SAKE,sBACEhD,UAAU,wDADZ,UAGI,wBACEA,UAAU,sDACV+B,KAAK,SACLE,aAAW,4EACXzB,QAAS6B,EAAMY,UAEjB,qBAAKjD,UAAU,cAAcI,IAAKiC,EAAMrB,KAAKzB,KAAMe,IAAK+B,EAAMrB,KAAK9B,OACnE,qBACEc,UAAU,sBADZ,SAGGqC,EAAMrB,KAAK9B,eCkEXsE,MAnFf,YAA4D,IAAjCR,EAAgC,EAAhCA,OAAQC,EAAwB,EAAxBA,QAASQ,EAAe,EAAfA,aACpCnC,EAAcC,qBAAWX,GAD0B,EAGjC8C,mBAAS,IAHwB,mBAGlDxE,EAHkD,KAG5CyE,EAH4C,OAInBD,mBAAS,IAJU,mBAIlDE,EAJkD,KAIrCC,EAJqC,KAkCzD,OALFC,qBAAU,WACRH,EAAQrC,EAAYpC,MACpB2E,EAAevC,EAAYnC,SAC1B,CAACmC,IAGI,eAAC,EAAD,CACE8B,MAAM,4HACNlE,KAAK,UACL+D,QAASA,EACTD,OAAQA,EACRE,SAxBR,SAAsBa,GAEpBA,EAAEC,iBAGFP,EAAa,CACXvE,OACAC,MAAOyE,KAkBHN,WAAW,yDANb,UAQE,uBACEW,MAAO/E,EACPgF,SAtCV,SAA0BH,GACxBJ,EAAQI,EAAE5D,OAAO8D,QAsCT/E,KAAK,aACL6C,KAAK,OACLC,GAAG,aACHhC,UAAU,kDACVmE,YAAY,gEACZC,UAAQ,EACRC,UAAU,IACVC,UAAU,KACVC,aAAa,QAEf,sBACEvE,UAAU,2BACVgC,GAAG,qBAGL,uBACEiC,MAAOL,EACPM,SAnDV,SAAiCH,GAC/BF,EAAeE,EAAE5D,OAAO8D,QAmDhB/E,KAAK,cACL6C,KAAK,OACLC,GAAG,cACHhC,UAAU,mDACVmE,YAAY,iCACZC,UAAQ,EACRC,UAAU,IACVC,UAAU,MACVC,aAAa,QAEf,sBACEvE,UAAU,2BACVgC,GAAG,0BC9BAwC,MA9Cf,YAAgE,IAApCxB,EAAmC,EAAnCA,OAAQC,EAA2B,EAA3BA,QAASwB,EAAkB,EAAlBA,eAIrCC,EAAY7D,IAAM8D,SAexB,OACE,eAAC,EAAD,CACAvB,MAAM,wFACNlE,KAAK,SACL8D,OAAQA,EACRC,QAASA,EACTC,SAdF,SAAsBa,GACpBA,EAAEC,iBAEFS,EAAe,CACb/E,OAAQgF,EAAUE,QAAQX,SAW5BX,WAAW,yDANX,UAQA,uBACEuB,IAAKH,EACLxF,KAAK,eACL8C,GAAG,eACHD,KAAK,MACL/B,UAAU,yDACVmE,YAAY,qGACZC,UAAQ,IAEV,sBACEpE,UAAU,2BACVgC,GAAG,2BCkCM8C,MAzEf,YAAwD,IAA/B9B,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,QAASN,EAAa,EAAbA,WAAa,GACjCpB,qBAAWX,GAEP8C,mBAAS,KAHoB,mBAG9CxE,EAH8C,KAGxCyE,EAHwC,OAI7BD,mBAAS,IAJoB,mBAI9CnE,EAJ8C,KAIxCwF,EAJwC,KA2BrD,OACE,eAAC,EAAD,CACA3B,MAAM,gEACNlE,KAAK,WACL8D,OAAQA,EACRC,QAASA,EACTC,SAhBF,SAAsBa,GACpBA,EAAEC,iBACFrB,EAAW,CACTzD,OACAK,SAEFoE,EAAQ,IACRoB,EAAQ,KAURzB,WAAW,6CANX,UAQA,uBACEW,MAAO/E,EACPgF,SA/BF,SAA0BH,GACxBJ,EAAQI,EAAE5D,OAAO8D,QA+BjB/E,KAAK,mBACL6C,KAAK,OACLC,GAAG,mBACHhC,UAAU,mDACVmE,YAAY,mDACZC,UAAQ,EACRC,UAAU,IACVC,UAAU,KACVC,aAAa,QAEf,sBACEvE,UAAU,2BACVgC,GAAG,2BAEL,uBACEiC,MAAO1E,EACP2E,SA3CF,SAA0BH,GACxBgB,EAAQhB,EAAE5D,OAAO8D,QA2CjB/E,KAAK,YACL6C,KAAK,MACLC,GAAG,YACHhC,UAAU,iDACVmE,YAAY,qGACZC,UAAQ,EACRG,aAAa,QAEf,sBACEvE,UAAU,2BACVgC,GAAG,wBCvEIgD,EAAW,wBCqETC,MAjEf,YAAoD,IAAnCC,EAAkC,EAAlCA,YAAaC,EAAqB,EAArBA,OAAQC,EAAa,EAAbA,UAAa,EACvB1B,mBAAS,IADc,mBAC1C2B,EAD0C,KACnCC,EADmC,OAEjB5B,mBAAS,IAFQ,mBAE1C6B,EAF0C,KAEhCC,EAFgC,KAI3C1F,EAAUC,cA8BhB,OACE,sBAAKC,UAAU,OAAf,UACE,oBAAIA,UAAU,cAAd,sCACA,uBAAMA,UAAU,aAAakD,SA1BZ,SAACuC,GACpBA,EAAIzB,iBAECqB,GAAUE,GACbG,QAAQC,MAAM,gODDK,SAACJ,EAAUF,GAClC,OAAOxG,MAAM,GAAD,OAAImG,EAAJ,WAAuB,CACjClG,OAAQ,OACRC,QAAS,CACP,eAAgB,oBAElBK,KAAMC,KAAKC,UAAU,CAACiG,WAAUF,YAEjCpG,MAAM,SAAA2G,GAAQ,OAAIA,EAAStH,UAC3BW,MAAK,SAAC4G,GACL,GAAIA,EAAK3H,MAGP,OAFAwH,QAAQI,IAAI,uBAAwBD,EAAK3H,OACzCuC,aAAasF,QAAQ,MAAOF,EAAK3H,OAC1B2H,KAGVG,OAAM,SAAAC,GAAG,OAAIP,QAAQI,IAAIG,MCZxBC,CAAWX,EAAUF,GAClBpG,MAAK,SAAC4G,GACDA,EAAK3H,OAbboH,EAAS,IACTE,EAAY,IAcNN,IACAE,EAAU,IACVtF,EAAQa,KAAK,UACJkF,EAAKM,SACdf,EAAUS,EAAKM,YAGlBH,OAAM,SAACC,GACNP,QAAQI,IAAR,iCAAsCG,QAOxC,UACE,uBACEjG,UAAU,cACV+B,KAAK,QACLqC,UAAU,EACVD,YAAY,QACZD,SAAU,SAACuB,GAAD,OAASH,EAASG,EAAItF,OAAO8D,UAEzC,sBAAKjE,UAAU,wBAAf,UACE,uBACEA,UAAU,cACV+B,KAAK,WACLoC,YAAY,uCACZD,SAAU,SAACuB,GAAD,OAASD,EAAYC,EAAItF,OAAO8D,UAE5C,mBAAGjE,UAAU,oBAAb,SAAkCmF,OAEpC,wBAAQpD,KAAK,SAAS/B,UAAU,mBAAhC,4CAGA,cAAC,IAAD,CAAMA,UAAU,gBAAgBO,GAAG,UAAnC,yNCHO6F,EAtDE,SAAC,GAA2C,IAAzCC,EAAwC,EAAxCA,uBAAwBjB,EAAgB,EAAhBA,UAAgB,EAChC1B,mBAAS,IADuB,mBACnD2B,EADmD,KAC5CC,EAD4C,OAE1B5B,mBAAS,IAFiB,mBAEnD6B,EAFmD,KAEzCC,EAFyC,KAIpD1F,EAAUC,cAqBhB,OACE,sBAAKC,UAAU,OAAf,UACE,oBAAIA,UAAU,cAAd,gFACA,uBAAMA,UAAU,aAAakD,SAtBZ,SAACuC,GACpBA,EAAIzB,iBACJ0B,QAAQI,IAAI,aAAaP,EAAU,WAAYF,GFV3B,SAACE,EAAUF,GACjC,OAAOxG,MAAM,GAAD,OAAImG,EAAJ,WAAuB,CACjClG,OAAQ,OACRC,QAAS,CACP,eAAgB,oBAElBK,KAAMC,KAAKC,UAAU,CAACiG,WAAUF,YAEjCpG,MAAK,SAAC2G,GACL,OAAOA,EAAStH,UAEjBW,MAAK,SAACb,GACL,OAAOA,KAER4H,OAAM,SAACC,GAAD,OAASP,QAAQI,IAAR,8BAAmCG,OEHjDK,CAAUf,EAAUF,GACjBpG,MAAK,SAACb,GACLsH,QAAQI,IAAI1H,GACRA,EAAIyH,MACNQ,EAAuBjI,GACvBgH,EAAU,IACVtF,EAAQa,KAAK,YAEb0F,EAAuBjI,MAG1B4H,OAAM,SAACC,GACNP,QAAQI,KAAI,SAAAG,GAAG,6CAAoCA,UAOrD,UACE,uBACEjG,UAAU,cACV+B,KAAK,QACLoC,YAAY,QACZC,UAAU,EACVF,SAAU,SAACuB,GAAD,OAASH,EAASG,EAAItF,OAAO8D,UAEzC,uBACEjE,UAAU,cACV+B,KAAK,WACLoC,YAAY,uCACZC,UAAU,EACVF,SAAU,SAACuB,GAAD,OAASD,EAAYC,EAAItF,OAAO8D,UAE5C,wBAAQlC,KAAK,SAAS/B,UAAU,mBAAhC,0HAGA,cAAC,IAAD,CAAMA,UAAU,gBAAgBO,GAAG,UAAnC,wK,QCtCOgG,EATQ,SAAC,GAAyC,IAA5BC,EAA2B,EAAtCC,UAAyBpE,EAAa,6BAC9D,OACE,cAAC,IAAD,UAEI,kBAAMA,EAAMqE,SAAW,cAACF,EAAD,eAAenE,IAAY,cAAC,IAAD,CAAU9B,GAAG,iBCPxD,MAA0B,kCCA1B,MAA0B,oCC6B1BoG,EAzBK,SAAC,GAAyB,IAAvB3D,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QAC7B,OACE,qBAAKjD,UAAS,iBAAYgD,EAAS,gBAAkB,IAArD,SACE,sBAAKhD,UAAU,qDAAf,UAEE,qBACEM,IAAI,wHACJN,UAAU,cACVI,IAAK4C,EAAO6C,KAAOe,EAAUC,IAE/B,oBAAI7G,UAAW,gDAAf,SACGgD,EAAO6C,KAAO,wKAAmC7C,EAAO2C,MAAQ3C,EAAO2C,MAAQ3C,EAAOmD,UAEzF,wBACAnG,UAAS,4DAET+B,KAAK,SACLE,aAAW,4EACXzB,QAASyC,UCAF6D,MAnBf,YAAqF,IAA1D9D,EAAyD,EAAzDA,OAAQC,EAAiD,EAAjDA,QAASjC,EAAwC,EAAxCA,KAAM+F,EAAkC,EAAlCA,aAAc1F,EAAoB,EAApBA,iBAM9D,OACE,cAAC,EAAD,CACEnC,KAAK,SACLkE,MAAM,2DACNJ,OAAQA,EACRC,QAASA,EACTK,WAAY,eACZJ,SAZJ,SAAsBa,GACpBA,EAAEC,iBACF+C,EAAa/F,IAWXK,iBAAkBA,KCwRT2F,MAnRf,WAAgB,IAAD,EAEatD,mBAAS,IAFtB,mBAENd,EAFM,KAECqE,EAFD,OAI+CvD,oBAAS,GAJxD,mBAINwD,EAJM,KAIkBC,EAJlB,OAKyCzD,oBAAS,GALlD,mBAKN0D,EALM,KAKeC,EALf,OAM6C3D,oBAAS,GANtD,mBAMN4D,EANM,KAMiBC,EANjB,OAOmC7D,oBAAS,GAP5C,mBAON8D,EAPM,KAOYC,EAPZ,OAQ2B/D,oBAAS,GARpC,mBAQNgE,EARM,KAQQC,EARR,OASyCjE,oBAAS,GATlD,mBASNkE,EATM,KASevB,EATf,OAUmB3C,oBAAS,GAV5B,mBAUNgD,EAVM,KAUImB,EAVJ,OAWqBnE,mBAAS,IAX9B,oBAWN9D,GAXM,MAWKkI,GAXL,SAYepE,mBAAS,IAZxB,qBAYNyB,GAZM,MAYEC,GAZF,SAaqB1B,oBAAS,GAb9B,qBAaNqE,GAbM,MAaKC,GAbL,SAc+CtE,oBAAS,GAdxD,qBAcNuE,GAdM,MAckBC,GAdlB,MAgBPpI,GAAUC,cAEVoI,GAAa,WACjB,IRLuBjK,EQKjBkK,EAAM3H,aAAa4H,QAAQ,OAC7BD,IRNmBlK,EQOVkK,ERNRvJ,MAAM,GAAD,OAAImG,EAAJ,aAAyB,CACnClG,OAAQ,MACRC,QAAS,CACP,eAAgB,mBAChB,cAAgB,UAAhB,OAA2Bb,MAG9Be,MAAK,SAAAb,GAAG,OAAIA,EAAIE,UAChBW,MAAK,SAAA4G,GAAI,OAAIA,MQDP5G,MAAK,SAACb,GACDA,IACFyJ,GAAY,GACZC,GAAa1J,EAAIyH,KAAKR,OACtBvF,GAAQa,KAAK,aAGhBqF,OAAM,SAACC,GACNP,QAAQI,KAAI,SAAAG,GAAG,kCAAyBA,EAAzB,YAKvBnC,qBAAU,WACRqE,OACC,CAACzB,IAEJ,IAvCa,GA2CyBhD,mBAAS,CAC7CxE,KAAM,GACNC,MAAO,GACPO,OAAQ,GACRF,IAAK,GACL8I,OAAQ,KAhDG,qBA2CNhH,GA3CM,MA2COiH,GA3CP,MA8Fb,SAASC,KACPrB,GAA0B,GAC1BE,GAAuB,GACvBE,GAAyB,GACzBE,GAAoB,GACpBpB,GAAuB,GACvB6B,IAA0B,GApGf,OAqHuBxE,mBAAS,IArHhC,qBAqHN+E,GArHM,MAqHMC,GArHN,MAqLb,OA9BA5E,qBAAU,WACR9F,EAAI2K,kBACD1J,MAAK,SAAA2J,GACJ3B,EAAS2B,MAEV5C,OAAM,SAAAC,GAAG,OAAIP,QAAQI,IAAIG,QAC3B,IAEHnC,qBAAU,WACR9F,EAAI6K,cACD5J,MAAK,SAAA4G,GACJ0C,GAAe1C,MAEhBG,OAAM,SAAAC,GAAG,OAAIP,QAAQI,IAAIG,QAC3B,IAEHnC,qBAAU,WACR,SAASgF,EAAerD,GACtB,MAAmB,WAAZA,EAAIsD,IAAmBP,KAAmB,KAOnD,OAJItB,GAA0BE,GAAuBE,GAAyBE,GAAoBI,IAChGoB,SAASC,iBAAiB,UAAWH,GAGhC,WACLE,SAASE,oBAAoB,UAAWJ,MAEzC,CAAC5B,EAAwBE,EAAqBE,EAAuBE,EAAkBI,IAGtF,cAAChH,EAAmBuI,SAApB,CAA6BlF,MAAO3C,GAApC,SACE,sBAAKtB,UAAU,OAAf,UAEA,cAAC,EAAD,CAAQJ,UAAWA,GAAWC,OAtCpC,WACEgI,GAAY,MAsCJ,eAAC,IAAD,WACA,cAAC,EAAD,CACI5H,KAAK,QACLyG,SAAUA,EACVD,UAAWrE,EACXf,iBAAkB0G,GAClBtF,aApId,WACE8E,GAAyB,IAoIb7E,cA7Id,WACEyE,GAA0B,IA6IdxE,WA1Id,WACE0E,GAAuB,IA0IXpG,YA3Hd,SAAyBD,GACvB2G,EAAgB3G,IA2HJE,iBApId,WACEuG,GAAoB,IAoIR7E,MAAOA,EACPzB,WA/Fd,SAAwBH,GAEtB,IAAMvB,EAAUuB,EAAKW,MAAMC,MAAK,SAAAC,GAAC,OAAIA,EAAErC,MAAQ8B,GAAY9B,OAG3DxB,EAAIoL,eAAepI,EAAKxB,KAAMC,GAASR,MAAK,SAACoK,GAE3C,IAAMC,EAAW1G,EAAMC,KAAI,SAAC0G,GAAD,OAAOA,EAAE/J,MAAQwB,EAAKxB,IAAM6J,EAAUE,KAEjEtC,EAASqC,MAEVtD,OAAM,SAAAC,GAAG,OAAIP,QAAQI,IAAIG,OAqFd7E,aAhFd,SAA4BJ,GAlD1BkH,IAA0B,GAoD1BQ,GAAc1H,MAgFJ,cAAC,IAAD,CAAOf,KAAK,UAAZ,SACE,cAAC,EAAD,CACEoG,uBAAwBA,EACxBrD,OAAQ4E,EACRxC,UAAWA,OAGf,cAAC,IAAD,CAAOnF,KAAK,UAAZ,SACE,cAAC,EAAD,CAAOiF,YA1KD,WAClB2C,GAAY,IAyKiC1C,OAAQA,GAAQC,UAAWA,OAE9D,cAAC,IAAD,UACGsB,EAAW,cAAC,IAAD,CAAUnG,GAAG,UAAa,cAAC,IAAD,CAAUA,GAAG,iBAGzD,cAAE,EAAF,IAGA,cAAC,EAAD,CAAayC,OAAQ4E,EAAqB3E,QAASuF,KAGnD,cAAC,EAAD,CACExF,OAAQkE,EACRjE,QAASuF,GACT/E,aApJV,YAA0C,IAAfvE,EAAc,EAAdA,KAAMC,EAAQ,EAARA,MAC/BnB,EAAIwL,iBAAiB,CAACtK,OAAMC,UACzBF,MAAK,SAAC4G,GACL0C,GAAe1C,GACf2C,QAEDxC,OAAM,SAAAC,GAAG,OAAIP,QAAQI,IAAIG,SAkJtB,cAAC,EAAD,CACE7C,MAAM,gEACNlE,KAAK,WACL8D,OAAQoE,EACRnE,QAASuF,GACT7F,WAjGV,YAA+C,IAAfzD,EAAc,EAAdA,KAAMK,EAAQ,EAARA,KACpCyI,IAAa,GACbhK,EAAIyL,eAAe,CAAEvK,OAAMK,SACxBN,MAAK,SAACoK,GACLpC,EAAS,CAACoC,GAAF,mBAAczG,KACtBoF,IAAa,GACbQ,QAEDxC,OAAM,SAAAC,GAAG,OAAIP,QAAQI,IAAIG,OA0FpB3C,WAAW,+CAIb,cAAC,EAAD,CACEN,OAAQsE,EACRrE,QAASuF,GACT/D,eA5JV,YAAuC,IAAV/E,EAAS,EAATA,OAC3B1B,EAAI0L,mBAAmB,CAAChK,WACvBT,MAAK,SAAC4G,GACL0C,GAAe1C,GACf2C,QAEDxC,OAAM,SAAAC,GAAG,OAAIP,QAAQI,IAAIG,SA2JpB,cAAC,EAAD,CACE7C,MAAM,2DACNlE,KAAK,UACL+D,QAASuF,GACTlF,WAAW,iBAMb,cAAC,EAAD,CACEL,QAASuF,GACTxH,KAAM0G,EACN1E,OAAQwE,IAGV,cAAC,EAAD,CACExE,OAAQiF,GACRhF,QAASuF,GACTxH,KAAMyH,GACN1B,aA9IV,SAA0B0B,GACxBT,IAAa,GACbhK,EAAIyK,WAAWA,EAAWjJ,KACvBP,MAAK,WACJ,IAAMqK,EAAW1G,EAAM+G,QAAO,SAACJ,GAAD,OAAOA,EAAE/J,MAAQiJ,EAAWjJ,OAC1DyH,EAASqC,GACTtB,IAAa,GACbQ,QAEDxC,OAAM,SAAAC,GAAG,OAAIP,QAAQI,IAAIG,OAsIpB5E,iBAAkB0G,WCrRf6B,EAZS,SAAAC,GAClBA,GAAeA,aAAuBC,UACxC,6BAAqB7K,MAAK,YAAkD,IAA/C8K,EAA8C,EAA9CA,OAAQC,EAAsC,EAAtCA,OAAQC,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QAC3DJ,EAAOF,GACPG,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAQN,OCAdO,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,IAAD,UACE,cAAC,EAAD,QAGJtB,SAASuB,eAAe,SAM1BX,M","file":"static/js/main.ea52f76b.chunk.js","sourcesContent":["class Api {\r\n  constructor({ adress, token, }) {\r\n    this._adress = adress\r\n    this._token = token\r\n  }\r\n\r\n  _headerResponse = (res) => {\r\n    return res.ok ? res.json() : Promise.reject(`Ошибка: ${res.status}`);\r\n  }\r\n\r\n  getInfoUser() {\r\n    return fetch(`${this._adress}/users/me`, {\r\n      method: 'GET',\r\n      headers: {\r\n        authorization: this._token,\r\n        'Content-Type': 'application/json'\r\n      }\r\n    })\r\n      .then(this._headerResponse)\r\n  }\r\n\r\n  getInitialCards() {\r\n    return fetch(`${this._adress}/cards`, {\r\n      headers: {\r\n        authorization: this._token,\r\n        'Content-Type': 'application/json'\r\n      }\r\n    })\r\n      .then(this._headerResponse)\r\n  }\r\n\r\n  patchEditProfile({name, about}) {\r\n    return fetch(`${this._adress}/users/me`, {\r\n      method: 'PATCH',\r\n      headers: {\r\n        authorization: this._token,\r\n        'Content-Type': 'application/json'\r\n      },\r\n      body: JSON.stringify({\r\n        name,\r\n        about\r\n      })\r\n    })\r\n      .then(this._headerResponse)\r\n  }\r\n\r\n  postAddNewCard({ name, link }) {\r\n    return fetch(`${this._adress}/cards`, {\r\n      method: 'post',\r\n      headers: {\r\n        authorization: this._token,\r\n        'Content-Type': 'application/json'\r\n      },\r\n      body: JSON.stringify({\r\n        name,\r\n        link\r\n      })\r\n    })\r\n      .then(this._headerResponse)\r\n  }\r\n\r\n  deleteCard(_id) {\r\n    return fetch(`${this._adress}/cards/${_id}`, {\r\n      method: 'DELETE',\r\n      headers: {\r\n        authorization: this._token,\r\n        'Content-Type': 'application/json'\r\n      },\r\n    })\r\n      .then(this._headerResponse)\r\n  }\r\n\r\n  putHandlerLike(_id, isLiked) {\r\n    if (isLiked) {\r\n      return fetch(`${this._adress}/cards/likes/${_id}`, {\r\n        method: 'PUT',\r\n        headers: {\r\n          authorization: this._token,\r\n          'Content-Type': 'application/json'\r\n        },\r\n      })\r\n        .then(this._headerResponse)\r\n    } else {\r\n      return fetch(`${this._adress}/cards/likes/${_id}`, {\r\n        method: 'DELETE',\r\n        headers: {\r\n          authorization: this._token,\r\n          'Content-Type': 'application/json'\r\n        },\r\n      })\r\n        .then(this._headerResponse)\r\n}\r\n\r\n    }\r\n\r\n  patchRefreshAvatar({avatar}) {\r\n    return fetch(`${this._adress}/users/me/avatar`, {\r\n      method: 'PATCH',\r\n      headers: {\r\n        authorization: this._token,\r\n        'Content-Type': 'application/json'\r\n      },\r\n      body: JSON.stringify({\r\n        avatar\r\n      })\r\n    })\r\n      .then(this._headerResponse)\r\n  }\r\n}\r\n\r\nconst api = new Api({\r\n  adress: 'https://mesto.nomoreparties.co/v1/cohort-19',\r\n  token: 'f72c8d0b-5fc2-4db7-9b50-05d59d520549'\r\n})\r\n\r\nexport default api","export default __webpack_public_path__ + \"static/media/logo_mesto.c2821b38.svg\";","import React from 'react'\r\nimport { Route, Link, useHistory } from 'react-router-dom';\r\nimport logo from '../images/logo_mesto.svg';\r\n\r\nfunction Header({ userEmail, onQuit }) {\r\n\r\n  const history = useHistory();\r\n\r\n  const quit = () => {\r\n    onQuit();\r\n    localStorage.removeItem('jwt');\r\n    history.push('/login');\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <header className='header'>\r\n        <Route path='/signup'>\r\n          <a href='https://praktikum.yandex.ru/' className='header__link' target='_blank'>\r\n            <img \r\n              src={logo} \r\n              alt='логотип'\r\n              className='header__logo' \r\n            />\r\n          </a>\r\n          <Link className='header__link-login' to='/signin'>\r\n            Войти\r\n          </Link>\r\n        </Route>\r\n        <Route path='/signin'>\r\n          <a href='https://praktikum.yandex.ru/' className='header__link' target='_blank'>\r\n            <img \r\n              src={logo} \r\n              alt='логотип'\r\n              className='header__logo' \r\n            />\r\n          </a>\r\n          <Link className='header__link-login' to='/signup'>\r\n            Регистрация\r\n          </Link>\r\n        </Route>\r\n        <Route path='/main'>\r\n          <a href='https://praktikum.yandex.ru/' className='header__link' target='_blank'>\r\n            <img \r\n              src={logo} \r\n              alt='логотип'\r\n              className='header__logo' \r\n            />\r\n          </a>\r\n          <p className='header__user-email'>{userEmail}</p>\r\n          <Link className='header__link-login' to='/signin' onClick={quit}>\r\n            Выйти\r\n          </Link>\r\n        </Route>\r\n\r\n      </header>\r\n    </>\r\n  )\r\n}\r\nexport default Header","import React from 'react'\r\n\r\nexport const CurrentUserContext = React.createContext();\r\n\r\n","import React from \"react\";\r\nimport {CurrentUserContext} from \"../contexts/CurrentUserContext\";\r\n\r\nfunction Card({card, onCardClick, onCardImageClick, onCardLike, onCardDelete, loadingIndicator}) {\r\n  const currentUser  = React.useContext(CurrentUserContext);\r\n  \r\n  function handleClick() {\r\n    onCardClick(card);\r\n    onCardImageClick()\r\n  }\r\n\r\n  function handleLikeClick() {\r\n    onCardLike(card);\r\n  }\r\n\r\n  function handleDeleteClick() {\r\n    onCardDelete(card)\r\n  }\r\n\r\n\r\n  // Определяем, являемся ли мы владельцем текущей карточки\r\nconst isOwn = card.owner._id === currentUser._id;\r\n\r\n// Создаём переменную, которую после зададим в `className` для кнопки удаления\r\nconst cardDeleteButtonClassName = (\r\n  `card__delete-btn ${isOwn ? '' : 'card__delete-btn_non-active'}`\r\n);\r\n\r\n// Определяем, есть ли у карточки лайк, поставленный текущим пользователем\r\nconst isLiked = card.likes.some(i => i._id === currentUser._id);\r\n\r\n// Создаём переменную, которую после зададим в `className` для кнопки лайка\r\nconst cardLikeButtonClassName = (\r\n  `card__like-btn ${ isLiked ? 'card__like-btn_active' : ''}`\r\n);\r\n\r\n  return (\r\n    <>\r\n      <article className=\"card\">\r\n        <img \r\n          className=\"card__image\"\r\n          src={\r\n            card.link\r\n            }\r\n          alt={card.name}\r\n          onClick={handleClick} \r\n        />\r\n        <button \r\n          onClick={handleDeleteClick}\r\n          className={cardDeleteButtonClassName}\r\n          type=\"button\"\r\n        ></button>\r\n        <div\r\n          className=\"card__element\"\r\n        >\r\n          <h2\r\n            className=\"card__title\"\r\n          > {\r\n              card.name\r\n            }</h2>\r\n          <div \r\n            className=\"card__like-container\"\r\n          >\r\n            <button\r\n              id=\"likeButton\"\r\n              className={cardLikeButtonClassName}\r\n              aria-label='Поставить лайк'\r\n              type=\"button\"\r\n              onClick={handleLikeClick}\r\n              disabled={loadingIndicator}\r\n            ></button>\r\n            <div \r\n              className=\"card__like-counter\"\r\n            > {\r\n              card.likes.length ? card.likes.length : '0'\r\n              }\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </article>\r\n    </>\r\n  );\r\n}\r\nexport default Card","import React, { useState, useEffect } from 'react'\r\nimport Card from './Card'\r\nimport {api} from '../utils/api.js'\r\nimport {CurrentUserContext} from \"../contexts/CurrentUserContext\"\r\n// import avatarDefault from '../images/profile_avatar.jpg'\r\n\r\nfunction Main(props) {\r\n  const currentUser  = React.useContext(CurrentUserContext)\r\n  const userName = currentUser.name\r\n  const userDescription = currentUser.about\r\n  const userAvatar = currentUser.avatar\r\n\r\n  return (\r\n    <>\r\n      <main className='content'>\r\n        <section className='profile'>\r\n          <div\r\n            className='profile__avatar-container'\r\n            onClick={props.onEditAvatar}>\r\n            <img\r\n              src={userAvatar} \r\n              alt={userName}\r\n              className='profile__avatar'\r\n            />\r\n          </div>\r\n          <div className='profile__info'>\r\n            <h1 className='profile__name'>{userName}</h1>\r\n            <button\r\n              className='profile__edit-button' \r\n              type='button'\r\n              onClick={props.onEditProfile}\r\n            ></button>\r\n          </div>\r\n          <p className='profile__hobby'>{userDescription}</p>\r\n          <button\r\n            className='profile__add-button'\r\n            type='button'\r\n            onClick={props.onAddPlace}></button>\r\n        </section>\r\n\r\n        <section className='cards'>\r\n          {props.cards.map((card) => (\r\n              <Card \r\n                key={card._id}\r\n                card={card}\r\n                onCardClick={props.onCardClick}\r\n                onCardImageClick={props.onCardImageClick}\r\n                onCardLike={props.onCardLike}\r\n                onCardDelete={props.onCardDelete}\r\n                loadingIndicator={props.loadingIndicator}\r\n                {...props}\r\n              />\r\n          ))}\r\n        </section>\r\n      </main>\r\n    </>\r\n  )\r\n}\r\nexport default Main","function Footer() {\r\n  return (\r\n    <>\r\n      <footer className='footer'>\r\n        <a href='https://praktikum.yandex.ru/' className='footer__link'>&copy; 2020 Mesto Russia</a>\r\n      </footer>\r\n    </>\r\n  )\r\n}\r\nexport default Footer","function PopupWithForm(props) {\r\n\r\n  return (\r\n    <>\r\n      <div className={props.isOpen ? `pop-up pop-up_type_${props.name} pop-up_opened` : `pop-up pop-up_type_${props.name}`}>\r\n        <div className={`pop-up__container pop-up__container_opened_${props.name}`} >\r\n          <button \r\n            className={`pop-up__btn-close pop-up__btn-close_type_${props.name}`}\r\n            type='button'\r\n            aria-label='Закрыть форму'\r\n            onClick={props.onClose}\r\n          ></button>\r\n          <form \r\n            onSubmit={props.onSubmit}\r\n            name={`${props.name}`} \r\n            action='#' \r\n            className={`pop-up__form pop-up__form_${props.name}`} \r\n            method='POST'\r\n            disabled={props.loadingIndicator}\r\n          >\r\n            <h3 className='pop-up__form-title'>{props.title}</h3>\r\n              {props.children}\r\n          <button \r\n            className='pop-up__form-btn-submit pop-up__form-btn-submit_comfirm' \r\n            type='submit'\r\n          >{props.buttonText}</button>\r\n          </form>\r\n        </div>\r\n      </div>\r\n    </>\r\n  )\r\n}\r\nexport default PopupWithForm","function ImagePopup(props) {\r\n  \r\n  return (\r\n    <>\r\n      <div \r\n        className={\r\n          props.isOpen ? `pop-up pop-up_type_image-zoom pop-up_opened` : `pop-up pop-up_type_image-zoom`\r\n        }\r\n      >\r\n        <div \r\n          className='pop-up__container pop-up__container_opened_image-zoom'\r\n        >\r\n            <button \r\n              className='pop-up__btn-close pop-up__btn-close_type_image-zoom'\r\n              type='button'\r\n              aria-label='Закрыть форму'\r\n              onClick={props.onClose}\r\n            ></button>\r\n            <img className='pop-up__img' src={props.card.link} alt={props.card.name} />\r\n            <div \r\n              className='pop-up__description'\r\n            >\r\n              {props.card.name}\r\n            </div>\r\n        </div>\r\n    </div>\r\n    </>\r\n  )\r\n}\r\nexport default ImagePopup","import React from 'react'\r\nimport {useState, useEffect, useContext} from 'react'\r\nimport PopupWithForm from './PopupWithForm'\r\nimport {CurrentUserContext} from \"../contexts/CurrentUserContext\"\r\n\r\nfunction EditProfilePopup({isOpen, onClose, onUpdateUser}) {\r\n  const currentUser = useContext(CurrentUserContext)\r\n\r\n  const [name, setName] = useState('')\r\n  const [description, setDescription] = useState('')\r\n\r\n  // Обработчик изменения инпута обновляет стейт\r\n  function nameHandleChange(e) {\r\n    setName(e.target.value)\r\n  }\r\n\r\n  // Обработчик изменения инпута обновляет стейт\r\n  function descriptionHandleChange(e) {\r\n    setDescription(e.target.value)\r\n  }\r\n\r\n  function handleSubmit(e) {\r\n    // Запрещаем браузеру переходить по адресу формы\r\n    e.preventDefault()\r\n\r\n    // Передаём значения управляемых компонентов во внешний обработчик\r\n    onUpdateUser({\r\n      name,\r\n      about: description,\r\n    })\r\n  } \r\n\r\n  // После загрузки текущего пользователя из API\r\n// его данные будут использованы в управляемых компонентах.\r\nuseEffect(() => {\r\n  setName(currentUser.name)\r\n  setDescription(currentUser.about)\r\n}, [currentUser]) \r\n\r\n  return (\r\n        <PopupWithForm\r\n          title='Редактировать профиль'\r\n          name='profile'\r\n          onClose={onClose}\r\n          isOpen={isOpen}\r\n          onSubmit={handleSubmit}\r\n          buttonText='Сохранить'\r\n        >\r\n          <input\r\n            value={name}\r\n            onChange={nameHandleChange}\r\n            name='input-name'\r\n            type='text'\r\n            id='name-input'\r\n            className='pop-up__form-input pop-up__form-input_type_name'\r\n            placeholder='Имя Фамилия'\r\n            required\r\n            minLength='2'\r\n            maxLength='40'\r\n            autoComplete='off'\r\n          />\r\n          <span\r\n            className='pop-up__form-input-error'\r\n            id='name-input-error'\r\n          ></span>\r\n\r\n          <input\r\n            value={description}\r\n            onChange={descriptionHandleChange}\r\n            name='input-hobby'\r\n            type='text'\r\n            id='hobby-input'\r\n            className='pop-up__form-input pop-up__form-input_type_hobby'\r\n            placeholder='Хобби'\r\n            required\r\n            minLength='2'\r\n            maxLength='200'\r\n            autoComplete='off'\r\n          />\r\n          <span\r\n            className='pop-up__form-input-error'\r\n            id='hobby-input-error'\r\n          ></span>\r\n        </PopupWithForm>\r\n  )\r\n\r\n}\r\n\r\nexport default EditProfilePopup","import React from 'react'\r\n// import { useContext } from 'react'\r\nimport PopupWithForm from './PopupWithForm'\r\n// import {CurrentUserContext} from \"../contexts/CurrentUserContext\"\r\n\r\nfunction EditAvatarPopup( { isOpen, onClose, onUpdateAvatar }) {\r\n  // const currentUser = useContext(CurrentUserContext)\r\n\r\n  // const [avatar, setAvatar] = useState('')\r\n  const avatarRef = React.useRef()\r\n\r\n  // Обработчик изменения инпута обновляет стейт\r\n  // function avatarHandleChange(e) {\r\n  //   setAvatar(e.target.value)\r\n  // }\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault()\r\n\r\n    onUpdateAvatar({\r\n      avatar: avatarRef.current.value /* Значение инпута, полученное с помощью рефа */,\r\n    })\r\n  }\r\n\r\n  return (\r\n    <PopupWithForm\r\n    title='Обновить аватар'\r\n    name='avatar'\r\n    isOpen={isOpen}\r\n    onClose={onClose}\r\n    onSubmit={handleSubmit}\r\n    buttonText='Сохранить'\r\n  >\r\n    <input\r\n      ref={avatarRef}\r\n      name='input-avatar'\r\n      id='avatar-input'\r\n      type='url'\r\n      className='pop-up__form-input pop-up__form-input_type_link-avatar'\r\n      placeholder='Ссылка на картинку'\r\n      required\r\n    />\r\n    <span\r\n      className='pop-up__form-input-error'\r\n      id='avatar-input-error'\r\n    ></span>\r\n\r\n  </PopupWithForm>\r\n  )\r\n}\r\n\r\nexport default EditAvatarPopup","import React from 'react'\r\nimport {useState, useEffect, useContext} from 'react'\r\nimport PopupWithForm from './PopupWithForm'\r\nimport {CurrentUserContext} from \"../contexts/CurrentUserContext\"\r\n\r\nfunction AddPlacePopup({ isOpen, onClose, onAddPlace }){\r\n  const currentUser = useContext(CurrentUserContext)\r\n\r\n  const [name, setName] = useState('')\r\n  const [link, setLink] = useState('')\r\n\r\n    // Обработчик изменения инпута обновляет стейт\r\n    function nameHandleChange(e) {\r\n      setName(e.target.value)\r\n    }\r\n\r\n    // Обработчик изменения инпута обновляет стейт\r\n    function linkHandleChange(e) {\r\n      setLink(e.target.value)\r\n    }\r\n\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault()\r\n    onAddPlace({ \r\n      name, \r\n      link \r\n    })\r\n    setName('')\r\n    setLink('')\r\n  }\r\n\r\n  return (\r\n    <PopupWithForm\r\n    title='Новое место'\r\n    name='add-card'\r\n    isOpen={isOpen}\r\n    onClose={onClose}\r\n    onSubmit={handleSubmit}\r\n    buttonText='Создать'\r\n  >\r\n    <input\r\n      value={name}\r\n      onChange={nameHandleChange}\r\n      name='input-name-image'\r\n      type='text'\r\n      id='name-image-input'\r\n      className='pop-up__form-input pop-up__form-input_type_image'\r\n      placeholder='Название'\r\n      required\r\n      minLength='2'\r\n      maxLength='30'\r\n      autoComplete='off'\r\n    />\r\n    <span\r\n      className='pop-up__form-input-error'\r\n      id='name-image-input-error'\r\n    ></span>\r\n    <input\r\n      value={link}\r\n      onChange={linkHandleChange}\r\n      name='input-url'\r\n      type='url'\r\n      id='url-input'\r\n      className='pop-up__form-input pop-up__form-input_type_url'\r\n      placeholder='Ссылка на картинку'\r\n      required\r\n      autoComplete='off'\r\n    />\r\n    <span\r\n      className='pop-up__form-input-error'\r\n      id='url-input-error'\r\n    ></span>\r\n\r\n  </PopupWithForm>\r\n  )\r\n}\r\n\r\nexport default AddPlacePopup","export const BASE_URL = 'http://localhost:3002'\r\n\r\nexport const register = (password, email) => {\r\n  return fetch(`${BASE_URL}/signup`, {\r\n    method: 'POST',\r\n    headers: {\r\n      'Content-Type': 'application/json'\r\n    },\r\n    body: JSON.stringify({password, email})\r\n  })\r\n  .then((response) => {\r\n    return response.json()\r\n  })\r\n  .then((res) => {\r\n    return res\r\n  })\r\n  .catch((err) => console.log(`Error auth register ${err}`))\r\n}\r\nexport const authorize = (password, email) => {\r\n  return fetch(`${BASE_URL}/signin`, {\r\n    method: 'POST',\r\n    headers: {\r\n      'Content-Type': 'application/json'\r\n    },\r\n    body: JSON.stringify({password, email})\r\n  })\r\n  .then((response => response.json()))\r\n  .then((data) => {\r\n    if (data.token){\r\n      console.log('authorise auth jwt: ', data.token)\r\n      localStorage.setItem('jwt', data.token) \r\n      return data\r\n    } \r\n  })\r\n  .catch(err => console.log(err))\r\n}\r\nexport const checkToken = (token) => {\r\n  return fetch(`${BASE_URL}/users/me`, {\r\n    method: 'GET',\r\n    headers: {\r\n      'Content-Type': 'application/json',\r\n      'Authorization': `Bearer ${token}`,\r\n    }\r\n  })\r\n  .then(res => res.json())\r\n  .then(data => data)\r\n}\r\n","import React, { useState } from 'react'\r\nimport { useHistory, Link } from 'react-router-dom'\r\nimport { authorize } from '../auth'\r\n\r\nfunction Login({ handleLogin, onFail, setOnFail }) {\r\n  const [email, setEmail] = useState('')\r\n  const [password, setPassword] = useState('')\r\n\r\n  const history = useHistory()\r\n\r\n  const resetForm = () => {\r\n    setEmail('')\r\n    setPassword('')\r\n  }\r\n\r\n  const handleSubmit = (evt) => {\r\n    evt.preventDefault()\r\n\r\n    if (!email || !password) {\r\n      console.error('Не заполнены некоторые обязательные поля')\r\n    }\r\n\r\n    authorize( password, email )\r\n      .then((data) => {\r\n        if (data.token) {\r\n          resetForm()\r\n          handleLogin()\r\n          setOnFail('')\r\n          history.push('/main')\r\n        } else if (data.message) {\r\n          setOnFail(data.message)\r\n        }\r\n      })\r\n      .catch((err) => {\r\n        console.log(`Error Login authorize: ${err}`)\r\n      })\r\n  }\r\n\r\n  return (\r\n    <div className='auth'>\r\n      <h2 className='auth__title'>Вход</h2>\r\n      <form className='auth__form' onSubmit={handleSubmit}>\r\n        <input\r\n          className='auth__input'\r\n          type='email'\r\n          required={true}\r\n          placeholder='Email'\r\n          onChange={(evt) => setEmail(evt.target.value)}\r\n        />\r\n        <div className='auth__input-container'>\r\n          <input\r\n            className='auth__input'\r\n            type='password'\r\n            placeholder='Пароль'\r\n            onChange={(evt) => setPassword(evt.target.value)}\r\n          />\r\n          <p className='auth__error-field'>{onFail}</p>\r\n        </div>\r\n        <button type='submit' className='auth__submit-btn'>\r\n          Войти\r\n        </button>\r\n        <Link className='auth__sign-in' to='/signup'>\r\n          Ещё не зарегистрированы? Регистрация\r\n        </Link>\r\n      </form>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Login","import React, { useState } from 'react'\r\nimport { useHistory, Link } from 'react-router-dom'\r\nimport { register } from '../auth'\r\n\r\nconst Register = ({ setIsRegisterPopupOpen, setOnFail }) => {\r\n  const [email, setEmail] = useState('')\r\n  const [password, setPassword] = useState('')\r\n\r\n  const history = useHistory()\r\n\r\n  const handleSubmit = (evt) => {\r\n    evt.preventDefault()\r\n    console.log('password: ',password, ' email: ', email)\r\n    register( password, email )\r\n      .then((res) => {\r\n        console.log(res)\r\n        if (res.data) {\r\n          setIsRegisterPopupOpen(res)\r\n          setOnFail('')\r\n          history.push('/signin')\r\n        } else {\r\n          setIsRegisterPopupOpen(res)\r\n        }\r\n      })\r\n      .catch((err) => {\r\n        console.log(err => `Error handleSubmit register: ${err}`)\r\n      })\r\n  }\r\n\r\n  return (\r\n    <div className='auth'>\r\n      <h2 className='auth__title'>Регистрация</h2>\r\n      <form className='auth__form' onSubmit={handleSubmit}>\r\n        <input\r\n          className='auth__input'\r\n          type='email'\r\n          placeholder='Email'\r\n          required={true}\r\n          onChange={(evt) => setEmail(evt.target.value)}\r\n        />\r\n        <input\r\n          className='auth__input'\r\n          type='password'\r\n          placeholder='Пароль'\r\n          required={true}\r\n          onChange={(evt) => setPassword(evt.target.value)}\r\n        />\r\n        <button type='submit' className='auth__submit-btn'>\r\n          Зарегистрироваться\r\n        </button>\r\n        <Link className='auth__sign-in' to='/signin'>\r\n          Уже зарегистрированы? Войти\r\n        </Link>\r\n      </form>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Register","import React from 'react'\r\nimport { Route, Redirect } from \"react-router-dom\"\r\n\r\nconst ProtectedRoute = ({ component: Component, ...props  }) => {\r\n  return (\r\n    <Route>\r\n      {\r\n        () => props.loggedIn ? <Component {...props} /> : <Redirect to=\"./signin\" />\r\n      }\r\n    </Route>\r\n)}\r\n\r\nexport default ProtectedRoute","export default __webpack_public_path__ + \"static/media/Error.df8eddf6.svg\";","export default __webpack_public_path__ + \"static/media/Success.1b6082f8.svg\";","import React from 'react'\r\nimport Error from '../images/Error.svg'\r\nimport Success from '../images/Success.svg'\r\n\r\nconst InfoTooltip = ({ isOpen, onClose }) => {\r\n  return (\r\n    <div className={`pop-up ${isOpen ? 'pop-up_opened' : ''}`}>\r\n      <div className='pop-up__container\r\n      pop-up__container_type_tooltip'>\r\n        <img\r\n          alt='тут должна быть иконка'\r\n          className='pop-up__img'\r\n          src={isOpen.data ? Success : Error}\r\n        />\r\n        <h2 className={'pop-up__form-title pop-up__title_type_tooltip'}>\r\n          {isOpen.data ? 'Вы успешно зарегистрировались!' : isOpen.error ? isOpen.error : isOpen.message}\r\n        </h2>\r\n        <button \r\n        className={`pop-up__btn-close\r\n        pop-up__btn-close_type_tooltip`}\r\n        type='button'\r\n        aria-label='Закрыть форму'\r\n        onClick={onClose}\r\n        />\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default InfoTooltip","import React from 'react';\r\nimport PopupWithForm from './PopupWithForm';\r\n\r\nfunction PopupDeleteCard({ isOpen, onClose, card, onDeleteCard, loadingIndicator }) {\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n    onDeleteCard(card);\r\n  }\r\n\r\n  return (\r\n    <PopupWithForm\r\n      name='avatar'\r\n      title='Вы уверены?'\r\n      isOpen={isOpen}\r\n      onClose={onClose}\r\n      buttonText={'Да'}\r\n      onSubmit={handleSubmit}\r\n      loadingIndicator={loadingIndicator}\r\n    ></PopupWithForm>\r\n  );\r\n}\r\n\r\nexport default PopupDeleteCard;","import '../index.css'\nimport React, { useState, useEffect } from 'react'\nimport { Route, Switch, Redirect, useHistory } from 'react-router-dom'\nimport  api  from '../utils/api'\nimport Header from './Header'\nimport Main from './Main'\nimport Footer from './Footer'\nimport PopupWithForm from './PopupWithForm'\nimport ImagePopup from './ImagePopup'\nimport {CurrentUserContext} from '../contexts/CurrentUserContext'\nimport EditProfilePopup from './EditProfilePopup'\nimport EditAvatarPopup from './EditAvatarPopup'\nimport AddPlacePopup from './AddPlacePopup'\nimport Login from './Login'\nimport Register from './Register'\nimport ProtectedRoute from './ProtectedRoute'\nimport InfoTooltip from './InfoTooltip'\nimport PopupDeleteCard from './PopupDeleteCard'\nimport { checkToken } from '../auth'\n\n\n\nfunction App() {\n\n  const [cards, setCards] = useState([])\n  \n  const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = useState(false)\n  const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = useState(false)\n  const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = useState(false)\n  const [isImagePopupOpen, setIsImagePopupOpen] = useState(false)\n  const [selectedCard, setSelectedCard] = useState(false)\n  const [isRegisterPopupOpen, setIsRegisterPopupOpen] = useState(false)\n  const [loggedIn, setLoggedIn] = useState(false)\n  const [userEmail, setUserEmail] = useState('')\n  const [onFail, setOnFail] = useState('')\n  const [isloading, setIsLoading] = useState(false)\n  const [isDeleteCardsPopupOpen, SetIsDeleteCardsPopupOpen] = useState(false);\n\n  const history = useHistory()\n\n  const tokenCheck = () => {\n    const jwt = localStorage.getItem('jwt')\n    if (jwt) {\n      checkToken(jwt)\n        .then((res) => {\n          if (res) {\n            setLoggedIn(true)\n            setUserEmail(res.data.email)\n            history.push('/main')\n          }\n        })\n        .catch((err) => {\n          console.log(err => `Error checkToken: ${err} `)\n        })\n    }\n  }\n\n  useEffect(() => {\n    tokenCheck()\n  }, [loggedIn])\n\n  const handleLogin = () => {\n    setLoggedIn(true)\n  }\n\n  const [currentUser, setCurrentUser] = useState({\n    name: '',\n    about: '',\n    avatar: '',\n    _id: '',\n    cohort: ''\n  })\n\n\n  function handleEditProfileClick() {\n    setIsEditProfilePopupOpen(true)\n  }\n\n  function handleAddPlaceClick() {\n    setIsAddPlacePopupOpen(true)\n  }\n\n  function handleEditAvatarClick() {\n    setIsEditAvatarPopupOpen(true)\n  }\n\n  function handleCardImageClick() {\n    setIsImagePopupOpen(true)\n  }\n\n  function handleDeleteCardsClick() {\n    SetIsDeleteCardsPopupOpen(true);\n  }\n\n  function handleCardClick(card) {\n    setSelectedCard(card)\n  }\n\n  function handleUpdateUser({name, about}) {\n    api.patchEditProfile({name, about})\n      .then((data) => {\n        setCurrentUser(data)\n        closeAllPopups()\n      })\n      .catch(err => console.log(err))\n  }\n\n  function handleUpdateAvatar({avatar}) {\n    api.patchRefreshAvatar({avatar})\n    .then((data) => {\n      setCurrentUser(data)\n      closeAllPopups()\n    })\n    .catch(err => console.log(err))\n  }\n\n  function closeAllPopups() {\n    setIsEditProfilePopupOpen(false)\n    setIsAddPlacePopupOpen(false)\n    setIsEditAvatarPopupOpen(false)\n    setIsImagePopupOpen(false)\n    setIsRegisterPopupOpen(false)\n    SetIsDeleteCardsPopupOpen(false);\n  }\n\n  function handleCardLike(card) {\n    // Снова проверяем, есть ли уже лайк на этой карточке\n    const isLiked = card.likes.some(i => i._id === currentUser._id)\n    \n    // Отправляем запрос в API и получаем обновлённые данные карточки\n    api.putHandlerLike(card._id, !isLiked).then((newCard) => {\n        // Формируем новый массив на основе имеющегося, подставляя в него новую карточку\n      const newCards = cards.map((c) => c._id === card._id ? newCard : c)\n      // Обновляем стейт\n      setCards(newCards)\n    })\n    .catch(err => console.log(err))\n  }\n\n  const [deleteCard, setDeleteCard] = useState({});\n\n  function onHandleCardDelete(card) {\n    handleDeleteCardsClick();\n    setDeleteCard(card);\n  }\n\n  function handleCardDelete(deleteCard) {\n    setIsLoading(true)\n    api.deleteCard(deleteCard._id)\n      .then(() => {\n        const newCards = cards.filter((c) => c._id !== deleteCard._id)\n        setCards(newCards)\n        setIsLoading(false)\n        closeAllPopups()\n      })\n      .catch(err => console.log(err))\n  }\n\n  function handleAddPlaceSubmit({ name, link }) {\n    setIsLoading(true)\n    api.postAddNewCard({ name, link })\n      .then((newCard) => {\n        setCards([newCard, ...cards])\n        setIsLoading(false)\n        closeAllPopups()\n      })\n      .catch(err => console.log(err))\n  }\n\n  function handleLogout() {\n    setLoggedIn(false)\n  }\n\n  useEffect(() => {\n    api.getInitialCards()\n      .then(initialCards => {\n        setCards(initialCards)\n      })\n      .catch(err => console.log(err))\n  }, [])\n\n  useEffect(() => {\n    api.getInfoUser()\n      .then(data => {\n        setCurrentUser(data)\n      })\n      .catch(err => console.log(err))\n  }, [])\n\n  useEffect(() => {\n    function handleEscClose(evt) {\n      return evt.key === 'Escape' ? closeAllPopups() : null\n    }\n\n    if (isEditProfilePopupOpen || isAddPlacePopupOpen || isEditAvatarPopupOpen || isImagePopupOpen || isRegisterPopupOpen) {\n      document.addEventListener('keydown', handleEscClose)\n    }\n\n    return () => {\n      document.removeEventListener('keydown', handleEscClose)\n    }\n  }, [isEditProfilePopupOpen, isAddPlacePopupOpen, isEditAvatarPopupOpen, isImagePopupOpen, isRegisterPopupOpen])\n\n  return (\n      <CurrentUserContext.Provider value={currentUser}>\n        <div className='page'>\n\n        <Header userEmail={userEmail} onQuit={handleLogout} />\n            <Switch>\n            <ProtectedRoute\n                path='/main'\n                loggedIn={loggedIn}\n                component={Main}\n                loadingIndicator={isloading}\n                onEditAvatar={handleEditAvatarClick}\n                onEditProfile={handleEditProfileClick}\n                onAddPlace={handleAddPlaceClick}\n                onCardClick={handleCardClick}\n                onCardImageClick={handleCardImageClick}\n                cards={cards}\n                onCardLike={handleCardLike}\n                onCardDelete={onHandleCardDelete}\n            />\n              <Route path='/signup'>\n                <Register\n                  setIsRegisterPopupOpen={setIsRegisterPopupOpen}\n                  isOpen={isRegisterPopupOpen}\n                  setOnFail={setOnFail}\n                />\n              </Route>\n              <Route path='/signin'>\n                <Login handleLogin={handleLogin} onFail={onFail} setOnFail={setOnFail} />\n              </Route>\n              <Route>\n                {loggedIn ? <Redirect to='/main' /> : <Redirect to='/signin' />}\n              </Route>\n            </Switch>\n          < Footer />\n\n        {/* Popup InfoTooltip */}\n          <InfoTooltip isOpen={isRegisterPopupOpen} onClose={closeAllPopups} />\n          \n          {/* Popup profile */}\n          <EditProfilePopup\n            isOpen={isEditProfilePopupOpen}\n            onClose={closeAllPopups}\n            onUpdateUser={handleUpdateUser}\n          />\n\n          {/* Popup card */}\n          <AddPlacePopup\n            title='Новое место'\n            name='add-card'\n            isOpen={isAddPlacePopupOpen}\n            onClose={closeAllPopups}\n            onAddPlace={handleAddPlaceSubmit}\n            buttonText='Создать'\n          />\n\n          {/* Popup avatar */}\n          <EditAvatarPopup \n            isOpen={isEditAvatarPopupOpen} \n            onClose={closeAllPopups} \n            onUpdateAvatar={handleUpdateAvatar}\n          /> \n\n\n          {/* Popup confirm */}\n          <PopupWithForm\n            title='Вы уверены?'\n            name='confirm'\n            onClose={closeAllPopups}\n            buttonText='Да'\n          >\n\n          </PopupWithForm>\n\n          {/* Popup image */}\n          <ImagePopup\n            onClose={closeAllPopups}\n            card={selectedCard}\n            isOpen={isImagePopupOpen}\n          />\n\n          <PopupDeleteCard\n            isOpen={isDeleteCardsPopupOpen}\n            onClose={closeAllPopups}\n            card={deleteCard}\n            onDeleteCard={handleCardDelete}\n            loadingIndicator={isloading}\n          />\n\n        </div>\n      </CurrentUserContext.Provider>\n  )\n}\n\nexport default App\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App';\nimport { BrowserRouter } from 'react-router-dom';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <BrowserRouter>\n      <App />\n    </BrowserRouter>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}